<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>Store (server 7.11.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="description" content="declaration: package: org.elasticsearch.index.store, class: Store">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9,"i6":10,"i7":9,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":9,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":9,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":9,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":9,"i36":9,"i37":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.elasticsearch.index.store</a></div>
<h1 title="Class Store" class="title">Class Store</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance"><a href="../shard/AbstractIndexShardComponent.html" title="class in org.elasticsearch.index.shard">org.elasticsearch.index.shard.AbstractIndexShardComponent</a>
<div class="inheritance">org.elasticsearch.index.store.Store</div>
</div>
</div>
<section class="description">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.io.Closeable</code>, <code>java.lang.AutoCloseable</code>, <code>org.elasticsearch.common.util.concurrent.RefCounted</code>, <code><a href="../shard/IndexShardComponent.html" title="interface in org.elasticsearch.index.shard">IndexShardComponent</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">Store</span>
extends <a href="../shard/AbstractIndexShardComponent.html" title="class in org.elasticsearch.index.shard">AbstractIndexShardComponent</a>
implements java.io.Closeable, org.elasticsearch.common.util.concurrent.RefCounted</pre>
<div class="block">A Store provides plain access to files written by an elasticsearch index shard. Each shard
 has a dedicated store that is uses to access Lucene's Directory which represents the lowest level
 of file abstraction in Lucene used to read and write Lucene indices.
 This class also provides access to metadata information like checksums for committed files. A committed
 file is a file that belongs to a segment written by a Lucene commit. Files that have not been committed
 ie. created during a merge or a shard refresh / NRT reopen are not considered in the MetadataSnapshot.
 <p>
 Note: If you use a store it's reference count should be increased before using it by calling #incRef and a
 corresponding #decRef must be called in a try/finally block to release the store again ie.:
 <pre>
      store.incRef();
      try {
        // use the store...

      } finally {
          store.decRef();
      }
 </pre></div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
<!--   -->
</a>
<h2>Nested Class Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a></span></code></th>
<td class="colLast">
<div class="block">Represents a snapshot of the current directory build from the latest Lucene commit.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Store.OnClose.html" title="interface in org.elasticsearch.index.store">Store.OnClose</a></span></code></th>
<td class="colLast">
<div class="block">A listener that is executed once the store is closed and all references to it are released</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="Store.RecoveryDiff.html" title="class in org.elasticsearch.index.store">Store.RecoveryDiff</a></span></code></th>
<td class="colLast">
<div class="block">A class representing the diff between a recovery source and recovery target</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CORRUPTED_MARKER_NAME_PREFIX">CORRUPTED_MARKER_NAME_PREFIX</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../common/settings/Setting.html" title="class in org.elasticsearch.common.settings">Setting</a>&lt;java.lang.Boolean&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#FORCE_RAM_TERM_DICT">FORCE_RAM_TERM_DICT</a></span></code></th>
<td class="colLast">
<div class="block">This is an escape hatch for lucenes internal optimization that checks if the IndexInput is an instance of ByteBufferIndexInput
 and if that's the case doesn't load the term dictionary into ram but loads it off disk iff the fields is not an ID like field.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../common/settings/Setting.html" title="class in org.elasticsearch.common.settings">Setting</a>&lt;org.elasticsearch.common.unit.TimeValue&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#INDEX_STORE_STATS_REFRESH_INTERVAL_SETTING">INDEX_STORE_STATS_REFRESH_INTERVAL_SETTING</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static org.apache.lucene.store.IOContext</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#READONCE_CHECKSUM">READONCE_CHECKSUM</a></span></code></th>
<td class="colLast">
<div class="block">Specific <code>IOContext</code> indicating that we will read only the Lucene file footer (containing the file checksum)
 See <code>Store.MetadataSnapshot.checksumFromLuceneFile(Directory, String, Map, Logger, Version, boolean)</code></div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="inheritedList">
<h3>Fields inherited from class&nbsp;org.elasticsearch.index.shard.<a href="../shard/AbstractIndexShardComponent.html" title="class in org.elasticsearch.index.shard">AbstractIndexShardComponent</a></h3>
<a id="fields.inherited.from.class.org.elasticsearch.index.shard.AbstractIndexShardComponent">
<!--   -->
</a><code><a href="../shard/AbstractIndexShardComponent.html#indexSettings">indexSettings</a>, <a href="../shard/AbstractIndexShardComponent.html#logger">logger</a>, <a href="../shard/AbstractIndexShardComponent.html#shardId">shardId</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.elasticsearch.index.shard.ShardId,org.elasticsearch.index.IndexSettings,org.apache.lucene.store.Directory,org.elasticsearch.env.ShardLock)">Store</a></span>&#8203;(<a href="../shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
<a href="../IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
org.apache.lucene.store.Directory&nbsp;directory,
<a href="../../env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&nbsp;shardLock)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.elasticsearch.index.shard.ShardId,org.elasticsearch.index.IndexSettings,org.apache.lucene.store.Directory,org.elasticsearch.env.ShardLock,org.elasticsearch.index.store.Store.OnClose)">Store</a></span>&#8203;(<a href="../shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
<a href="../IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
org.apache.lucene.store.Directory&nbsp;directory,
<a href="../../env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&nbsp;shardLock,
<a href="Store.OnClose.html" title="interface in org.elasticsearch.index.store">Store.OnClose</a>&nbsp;onClose)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#associateIndexWithNewTranslog(java.lang.String)">associateIndexWithNewTranslog</a></span>&#8203;(java.lang.String&nbsp;translogUUID)</code></th>
<td class="colLast">
<div class="block">Force bakes the given translog generation as recovery information in the lucene index.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#beforeClose()">beforeClose</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bootstrapNewHistory()">bootstrapNewHistory</a></span>()</code></th>
<td class="colLast">
<div class="block">Marks an existing lucene index with a new history uuid.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bootstrapNewHistory(long,long)">bootstrapNewHistory</a></span>&#8203;(long&nbsp;localCheckpoint,
long&nbsp;maxSeqNo)</code></th>
<td class="colLast">
<div class="block">Marks an existing lucene index with a new history uuid and sets the given local checkpoint
 as well as the maximum sequence number.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>org.apache.lucene.index.CheckIndex.Status</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkIndex(java.io.PrintStream)">checkIndex</a></span>&#8203;(java.io.PrintStream&nbsp;out)</code></th>
<td class="colLast">
<div class="block">Checks and returns the status of the existing index in this store.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkIntegrity(org.elasticsearch.index.store.StoreFileMetadata,org.apache.lucene.store.Directory)">checkIntegrity</a></span>&#8203;(<a href="StoreFileMetadata.html" title="class in org.elasticsearch.index.store">StoreFileMetadata</a>&nbsp;md,
org.apache.lucene.store.Directory&nbsp;directory)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkIntegrityNoException(org.elasticsearch.index.store.StoreFileMetadata)">checkIntegrityNoException</a></span>&#8203;(<a href="StoreFileMetadata.html" title="class in org.elasticsearch.index.store">StoreFileMetadata</a>&nbsp;md)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkIntegrityNoException(org.elasticsearch.index.store.StoreFileMetadata,org.apache.lucene.store.Directory)">checkIntegrityNoException</a></span>&#8203;(<a href="StoreFileMetadata.html" title="class in org.elasticsearch.index.store">StoreFileMetadata</a>&nbsp;md,
org.apache.lucene.store.Directory&nbsp;directory)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cleanupAndVerify(java.lang.String,org.elasticsearch.index.store.Store.MetadataSnapshot)">cleanupAndVerify</a></span>&#8203;(java.lang.String&nbsp;reason,
<a href="Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a>&nbsp;sourceMetadata)</code></th>
<td class="colLast">
<div class="block">This method deletes every file in this store that is not contained in the given source meta data or is a
 legacy checksum file.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createEmpty()">createEmpty</a></span>()</code></th>
<td class="colLast">
<div class="block">creates an empty lucene index and a corresponding empty translog.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>org.apache.lucene.store.IndexOutput</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createVerifyingOutput(java.lang.String,org.elasticsearch.index.store.StoreFileMetadata,org.apache.lucene.store.IOContext)">createVerifyingOutput</a></span>&#8203;(java.lang.String&nbsp;fileName,
<a href="StoreFileMetadata.html" title="class in org.elasticsearch.index.store">StoreFileMetadata</a>&nbsp;metadata,
org.apache.lucene.store.IOContext&nbsp;context)</code></th>
<td class="colLast">
<div class="block">The returned IndexOutput validates the files checksum.</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#decRef()">decRef</a></span>()</code></th>
<td class="colLast">
<div class="block">Decreases the refCount of this Store instance.</div>
</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteQuiet(java.lang.String...)">deleteQuiet</a></span>&#8203;(java.lang.String...&nbsp;files)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#digestToString(long)">digestToString</a></span>&#8203;(long&nbsp;digest)</code></th>
<td class="colLast">
<div class="block">Produces a string representation of the given digest value.</div>
</td>
</tr>
<tr class="rowColor" id="i15">
<td class="colFirst"><code>org.apache.lucene.store.Directory</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#directory()">directory</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i16">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ensureIndexHasHistoryUUID()">ensureIndexHasHistoryUUID</a></span>()</code></th>
<td class="colLast">
<div class="block">Checks that the Lucene index contains a history uuid marker.</div>
</td>
</tr>
<tr class="rowColor" id="i17">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#failIfCorrupted()">failIfCorrupted</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i18">
<td class="colFirst"><code>java.util.Optional&lt;<a href="../seqno/SequenceNumbers.CommitInfo.html" title="class in org.elasticsearch.index.seqno">SequenceNumbers.CommitInfo</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findSafeIndexCommit(long)">findSafeIndexCommit</a></span>&#8203;(long&nbsp;globalCheckpoint)</code></th>
<td class="colLast">
<div class="block">Returns a <a href="../seqno/SequenceNumbers.CommitInfo.html" title="class in org.elasticsearch.index.seqno"><code>SequenceNumbers.CommitInfo</code></a> of the safe commit if exists.</div>
</td>
</tr>
<tr class="rowColor" id="i19">
<td class="colFirst"><code><a href="Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMetadata(org.apache.lucene.index.IndexCommit)">getMetadata</a></span>&#8203;(org.apache.lucene.index.IndexCommit&nbsp;commit)</code></th>
<td class="colLast">
<div class="block">Returns a new MetadataSnapshot for the given commit.</div>
</td>
</tr>
<tr class="altColor" id="i20">
<td class="colFirst"><code><a href="Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMetadata(org.apache.lucene.index.IndexCommit,boolean)">getMetadata</a></span>&#8203;(org.apache.lucene.index.IndexCommit&nbsp;commit,
boolean&nbsp;lockDirectory)</code></th>
<td class="colLast">
<div class="block">Returns a new MetadataSnapshot for the given commit.</div>
</td>
</tr>
<tr class="rowColor" id="i21">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#incRef()">incRef</a></span>()</code></th>
<td class="colLast">
<div class="block">Increments the refCount of this Store instance.</div>
</td>
</tr>
<tr class="altColor" id="i22">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isAutogenerated(java.lang.String)">isAutogenerated</a></span>&#8203;(java.lang.String&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Returns true if the file is auto-generated by the store and shouldn't be deleted during cleanup.</div>
</td>
</tr>
<tr class="rowColor" id="i23">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isClosing()">isClosing</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i24">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isMarkedCorrupted()">isMarkedCorrupted</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i25">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#markStoreCorrupted(java.io.IOException)">markStoreCorrupted</a></span>&#8203;(java.io.IOException&nbsp;exception)</code></th>
<td class="colLast">
<div class="block">Marks this store as corrupted.</div>
</td>
</tr>
<tr class="altColor" id="i26">
<td class="colFirst"><code>org.apache.lucene.store.IndexInput</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#openVerifyingInput(java.lang.String,org.apache.lucene.store.IOContext,org.elasticsearch.index.store.StoreFileMetadata)">openVerifyingInput</a></span>&#8203;(java.lang.String&nbsp;filename,
org.apache.lucene.store.IOContext&nbsp;context,
<a href="StoreFileMetadata.html" title="class in org.elasticsearch.index.store">StoreFileMetadata</a>&nbsp;metadata)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i27">
<td class="colFirst"><code>org.apache.lucene.index.SegmentInfos</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readLastCommittedSegmentsInfo()">readLastCommittedSegmentsInfo</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the last committed segments info for this store</div>
</td>
</tr>
<tr class="altColor" id="i28">
<td class="colFirst"><code>static <a href="Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readMetadataSnapshot(java.nio.file.Path,org.elasticsearch.index.shard.ShardId,org.elasticsearch.env.NodeEnvironment.ShardLocker,org.apache.logging.log4j.Logger)">readMetadataSnapshot</a></span>&#8203;(java.nio.file.Path&nbsp;indexLocation,
<a href="../shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
<a href="../../env/NodeEnvironment.ShardLocker.html" title="interface in org.elasticsearch.env">NodeEnvironment.ShardLocker</a>&nbsp;shardLocker,
org.apache.logging.log4j.Logger&nbsp;logger)</code></th>
<td class="colLast">
<div class="block">Reads a MetadataSnapshot from the given index locations or returns an empty snapshot if it can't be read.</div>
</td>
</tr>
<tr class="rowColor" id="i29">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#refCount()">refCount</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the current reference count.</div>
</td>
</tr>
<tr class="altColor" id="i30">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeCorruptionMarker()">removeCorruptionMarker</a></span>()</code></th>
<td class="colLast">
<div class="block">Deletes all corruption markers from this store.</div>
</td>
</tr>
<tr class="rowColor" id="i31">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#renameTempFilesSafe(java.util.Map)">renameTempFilesSafe</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;tempFileMap)</code></th>
<td class="colLast">
<div class="block">Renames all the given files from the key of the map to the
 value of the map.</div>
</td>
</tr>
<tr class="altColor" id="i32">
<td class="colFirst"><code><a href="StoreStats.html" title="class in org.elasticsearch.index.store">StoreStats</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#stats(long)">stats</a></span>&#8203;(long&nbsp;reservedBytes)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i33">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#trimUnsafeCommits(long,long,org.elasticsearch.Version)">trimUnsafeCommits</a></span>&#8203;(long&nbsp;lastSyncedGlobalCheckpoint,
long&nbsp;minRetainedTranslogGen,
<a href="../../Version.html" title="class in org.elasticsearch">Version</a>&nbsp;indexVersionCreated)</code></th>
<td class="colLast">
<div class="block">Keeping existing unsafe commits when opening an engine can be problematic because these commits are not safe
 at the recovering time but they can suddenly become safe in the future.</div>
</td>
</tr>
<tr class="altColor" id="i34">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryIncRef()">tryIncRef</a></span>()</code></th>
<td class="colLast">
<div class="block">Tries to increment the refCount of this Store instance.</div>
</td>
</tr>
<tr class="rowColor" id="i35">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tryOpenIndex(java.nio.file.Path,org.elasticsearch.index.shard.ShardId,org.elasticsearch.env.NodeEnvironment.ShardLocker,org.apache.logging.log4j.Logger)">tryOpenIndex</a></span>&#8203;(java.nio.file.Path&nbsp;indexLocation,
<a href="../shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
<a href="../../env/NodeEnvironment.ShardLocker.html" title="interface in org.elasticsearch.env">NodeEnvironment.ShardLocker</a>&nbsp;shardLocker,
org.apache.logging.log4j.Logger&nbsp;logger)</code></th>
<td class="colLast">
<div class="block">Tries to open an index for the given location.</div>
</td>
</tr>
<tr class="altColor" id="i36">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#verify(org.apache.lucene.store.IndexInput)">verify</a></span>&#8203;(org.apache.lucene.store.IndexInput&nbsp;input)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i37">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#verify(org.apache.lucene.store.IndexOutput)">verify</a></span>&#8203;(org.apache.lucene.store.IndexOutput&nbsp;output)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;org.elasticsearch.index.shard.<a href="../shard/AbstractIndexShardComponent.html" title="class in org.elasticsearch.index.shard">AbstractIndexShardComponent</a></h3>
<a id="methods.inherited.from.class.org.elasticsearch.index.shard.AbstractIndexShardComponent">
<!--   -->
</a><code><a href="../shard/AbstractIndexShardComponent.html#indexSettings()">indexSettings</a>, <a href="../shard/AbstractIndexShardComponent.html#shardId()">shardId</a></code></div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="FORCE_RAM_TERM_DICT">FORCE_RAM_TERM_DICT</a></h3>
<div class="memberSignature"><span class="modifiers">public static final</span>&nbsp;<span class="returnType"><a href="../../common/settings/Setting.html" title="class in org.elasticsearch.common.settings">Setting</a>&lt;java.lang.Boolean&gt;</span>&nbsp;<span class="memberName">FORCE_RAM_TERM_DICT</span></div>
<div class="block">This is an escape hatch for lucenes internal optimization that checks if the IndexInput is an instance of ByteBufferIndexInput
 and if that's the case doesn't load the term dictionary into ram but loads it off disk iff the fields is not an ID like field.
 Since this optimization has been added very late in the release processes we add this setting to allow users to opt-out of
 this by exploiting lucene internals and wrapping the IndexInput in a simple delegate.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="CORRUPTED_MARKER_NAME_PREFIX">CORRUPTED_MARKER_NAME_PREFIX</a></h3>
<div class="memberSignature"><span class="modifiers">public static final</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">CORRUPTED_MARKER_NAME_PREFIX</span></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.elasticsearch.index.store.Store.CORRUPTED_MARKER_NAME_PREFIX">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="INDEX_STORE_STATS_REFRESH_INTERVAL_SETTING">INDEX_STORE_STATS_REFRESH_INTERVAL_SETTING</a></h3>
<div class="memberSignature"><span class="modifiers">public static final</span>&nbsp;<span class="returnType"><a href="../../common/settings/Setting.html" title="class in org.elasticsearch.common.settings">Setting</a>&lt;org.elasticsearch.common.unit.TimeValue&gt;</span>&nbsp;<span class="memberName">INDEX_STORE_STATS_REFRESH_INTERVAL_SETTING</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="READONCE_CHECKSUM">READONCE_CHECKSUM</a></h3>
<div class="memberSignature"><span class="modifiers">public static final</span>&nbsp;<span class="returnType">org.apache.lucene.store.IOContext</span>&nbsp;<span class="memberName">READONCE_CHECKSUM</span></div>
<div class="block">Specific <code>IOContext</code> indicating that we will read only the Lucene file footer (containing the file checksum)
 See <code>Store.MetadataSnapshot.checksumFromLuceneFile(Directory, String, Map, Logger, Version, boolean)</code></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(org.elasticsearch.index.shard.ShardId,org.elasticsearch.index.IndexSettings,org.apache.lucene.store.Directory,org.elasticsearch.env.ShardLock)">Store</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">Store</span>&#8203;(<span class="arguments"><a href="../shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
<a href="../IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
org.apache.lucene.store.Directory&nbsp;directory,
<a href="../../env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&nbsp;shardLock)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(org.elasticsearch.index.shard.ShardId,org.elasticsearch.index.IndexSettings,org.apache.lucene.store.Directory,org.elasticsearch.env.ShardLock,org.elasticsearch.index.store.Store.OnClose)">Store</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">Store</span>&#8203;(<span class="arguments"><a href="../shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
<a href="../IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
org.apache.lucene.store.Directory&nbsp;directory,
<a href="../../env/ShardLock.html" title="class in org.elasticsearch.env">ShardLock</a>&nbsp;shardLock,
<a href="Store.OnClose.html" title="interface in org.elasticsearch.index.store">Store.OnClose</a>&nbsp;onClose)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="directory()">directory</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">org.apache.lucene.store.Directory</span>&nbsp;<span class="memberName">directory</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="readLastCommittedSegmentsInfo()">readLastCommittedSegmentsInfo</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">org.apache.lucene.index.SegmentInfos</span>&nbsp;<span class="memberName">readLastCommittedSegmentsInfo</span>()
                                                                   throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Returns the last committed segments info for this store</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the index is corrupted or the segments file is not present</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getMetadata(org.apache.lucene.index.IndexCommit)">getMetadata</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a></span>&nbsp;<span class="memberName">getMetadata</span>&#8203;(<span class="arguments">org.apache.lucene.index.IndexCommit&nbsp;commit)</span>
                                   throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Returns a new MetadataSnapshot for the given commit. If the given commit is <code>null</code>
 the latest commit point is used.

 Note that this method requires the caller verify it has the right to access the store and
 no concurrent file changes are happening. If in doubt, you probably want to use one of the following:

 <a href="#readMetadataSnapshot(java.nio.file.Path,org.elasticsearch.index.shard.ShardId,org.elasticsearch.env.NodeEnvironment.ShardLocker,org.apache.logging.log4j.Logger)"><code>readMetadataSnapshot(Path, ShardId, NodeEnvironment.ShardLocker, Logger)</code></a> to read a meta data while locking
 <a href="../shard/IndexShard.html#snapshotStoreMetadata()"><code>IndexShard.snapshotStoreMetadata()</code></a> to safely read from an existing shard
 <a href="../shard/IndexShard.html#acquireLastIndexCommit(boolean)"><code>IndexShard.acquireLastIndexCommit(boolean)</code></a> to get an <code>IndexCommit</code> which is safe to use but has to be freed</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>commit</code> - the index commit to read the snapshot from or <code>null</code> if the latest snapshot should be read from the
               directory</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.lucene.index.CorruptIndexException</code> - if the lucene index is corrupted. This can be caused by a checksum mismatch or an
                                    unexpected exception when opening the index reading the segments file.</dd>
<dd><code>org.apache.lucene.index.IndexFormatTooOldException</code> - if the lucene index is too old to be opened.</dd>
<dd><code>org.apache.lucene.index.IndexFormatTooNewException</code> - if the lucene index is too new to be opened.</dd>
<dd><code>java.io.FileNotFoundException</code> - if one or more files referenced by a commit are not present.</dd>
<dd><code>java.nio.file.NoSuchFileException</code> - if one or more files referenced by a commit are not present.</dd>
<dd><code>org.apache.lucene.index.IndexNotFoundException</code> - if the commit point can't be found in this store</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getMetadata(org.apache.lucene.index.IndexCommit,boolean)">getMetadata</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a></span>&nbsp;<span class="memberName">getMetadata</span>&#8203;(<span class="arguments">org.apache.lucene.index.IndexCommit&nbsp;commit,
boolean&nbsp;lockDirectory)</span>
                                   throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Returns a new MetadataSnapshot for the given commit. If the given commit is <code>null</code>
 the latest commit point is used.

 Note that this method requires the caller verify it has the right to access the store and
 no concurrent file changes are happening. If in doubt, you probably want to use one of the following:

 <a href="#readMetadataSnapshot(java.nio.file.Path,org.elasticsearch.index.shard.ShardId,org.elasticsearch.env.NodeEnvironment.ShardLocker,org.apache.logging.log4j.Logger)"><code>readMetadataSnapshot(Path, ShardId, NodeEnvironment.ShardLocker, Logger)</code></a> to read a meta data while locking
 <a href="../shard/IndexShard.html#snapshotStoreMetadata()"><code>IndexShard.snapshotStoreMetadata()</code></a> to safely read from an existing shard
 <a href="../shard/IndexShard.html#acquireLastIndexCommit(boolean)"><code>IndexShard.acquireLastIndexCommit(boolean)</code></a> to get an <code>IndexCommit</code> which is safe to use but has to be freed</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>commit</code> - the index commit to read the snapshot from or <code>null</code> if the latest snapshot should be read from the
               directory</dd>
<dd><code>lockDirectory</code> - if <code>true</code> the index writer lock will be obtained before reading the snapshot. This should
                      only be used if there is no started shard using this store.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.lucene.index.CorruptIndexException</code> - if the lucene index is corrupted. This can be caused by a checksum mismatch or an
                                    unexpected exception when opening the index reading the segments file.</dd>
<dd><code>org.apache.lucene.index.IndexFormatTooOldException</code> - if the lucene index is too old to be opened.</dd>
<dd><code>org.apache.lucene.index.IndexFormatTooNewException</code> - if the lucene index is too new to be opened.</dd>
<dd><code>java.io.FileNotFoundException</code> - if one or more files referenced by a commit are not present.</dd>
<dd><code>java.nio.file.NoSuchFileException</code> - if one or more files referenced by a commit are not present.</dd>
<dd><code>org.apache.lucene.index.IndexNotFoundException</code> - if the commit point can't be found in this store</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="renameTempFilesSafe(java.util.Map)">renameTempFilesSafe</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">renameTempFilesSafe</span>&#8203;(<span class="arguments">java.util.Map&lt;java.lang.String,&#8203;java.lang.String&gt;&nbsp;tempFileMap)</span>
                         throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Renames all the given files from the key of the map to the
 value of the map. All successfully renamed files are removed from the map in-place.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="checkIndex(java.io.PrintStream)">checkIndex</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">org.apache.lucene.index.CheckIndex.Status</span>&nbsp;<span class="memberName">checkIndex</span>&#8203;(<span class="arguments">java.io.PrintStream&nbsp;out)</span>
                                                     throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Checks and returns the status of the existing index in this store.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>out</code> - where infoStream messages should go. See <code>CheckIndex.setInfoStream(PrintStream)</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="stats(long)">stats</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="StoreStats.html" title="class in org.elasticsearch.index.store">StoreStats</a></span>&nbsp;<span class="memberName">stats</span>&#8203;(<span class="arguments">long&nbsp;reservedBytes)</span>
                 throws <span class="exceptions">java.io.IOException</span></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reservedBytes</code> - a prediction of how much larger the store is expected to grow, or <a href="StoreStats.html#UNKNOWN_RESERVED_BYTES"><code>StoreStats.UNKNOWN_RESERVED_BYTES</code></a>.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="incRef()">incRef</a></h3>
<div class="memberSignature"><span class="modifiers">public final</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">incRef</span>()</div>
<div class="block">Increments the refCount of this Store instance.  RefCounts are used to determine when a
 Store can be closed safely, i.e. as soon as there are no more references. Be sure to always call a
 corresponding <a href="#decRef()"><code>decRef()</code></a>, in a finally clause; otherwise the store may never be closed.  Note that
 <a href="#close()"><code>close()</code></a> simply calls decRef(), which means that the Store will not really be closed until <a href="#decRef()"><code>decRef()</code></a> has been called for all outstanding references.
 <p>
 Note: Close can safely be called multiple times.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>incRef</code>&nbsp;in interface&nbsp;<code>org.elasticsearch.common.util.concurrent.RefCounted</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.lucene.store.AlreadyClosedException</code> - iff the reference counter can not be incremented.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#decRef()"><code>decRef()</code></a>, 
<a href="#tryIncRef()"><code>tryIncRef()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="tryIncRef()">tryIncRef</a></h3>
<div class="memberSignature"><span class="modifiers">public final</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">tryIncRef</span>()</div>
<div class="block">Tries to increment the refCount of this Store instance. This method will return <code>true</code> iff the refCount was
 incremented successfully otherwise <code>false</code>. RefCounts are used to determine when a
 Store can be closed safely, i.e. as soon as there are no more references. Be sure to always call a
 corresponding <a href="#decRef()"><code>decRef()</code></a>, in a finally clause; otherwise the store may never be closed.  Note that
 <a href="#close()"><code>close()</code></a> simply calls decRef(), which means that the Store will not really be closed until <a href="#decRef()"><code>decRef()</code></a> has been called for all outstanding references.
 <p>
 Note: Close can safely be called multiple times.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>tryIncRef</code>&nbsp;in interface&nbsp;<code>org.elasticsearch.common.util.concurrent.RefCounted</code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#decRef()"><code>decRef()</code></a>, 
<a href="#incRef()"><code>incRef()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="decRef()">decRef</a></h3>
<div class="memberSignature"><span class="modifiers">public final</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">decRef</span>()</div>
<div class="block">Decreases the refCount of this Store instance. If the refCount drops to 0, then this
 store is closed.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>decRef</code>&nbsp;in interface&nbsp;<code>org.elasticsearch.common.util.concurrent.RefCounted</code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#incRef()"><code>incRef()</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="close()">close</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">close</span>()</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.io.Closeable</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isClosing()">isClosing</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">isClosing</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the <a href="#close()"><code>close()</code></a> method has been called. This indicates that the current
 store is either closed or being closed waiting for all references to it to be released.
 You might prefer to use <code>ensureOpen()</code> instead.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="readMetadataSnapshot(java.nio.file.Path,org.elasticsearch.index.shard.ShardId,org.elasticsearch.env.NodeEnvironment.ShardLocker,org.apache.logging.log4j.Logger)">readMetadataSnapshot</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType"><a href="Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a></span>&nbsp;<span class="memberName">readMetadataSnapshot</span>&#8203;(<span class="arguments">java.nio.file.Path&nbsp;indexLocation,
<a href="../shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
<a href="../../env/NodeEnvironment.ShardLocker.html" title="interface in org.elasticsearch.env">NodeEnvironment.ShardLocker</a>&nbsp;shardLocker,
org.apache.logging.log4j.Logger&nbsp;logger)</span>
                                                   throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Reads a MetadataSnapshot from the given index locations or returns an empty snapshot if it can't be read.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the index we try to read is corrupted</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="tryOpenIndex(java.nio.file.Path,org.elasticsearch.index.shard.ShardId,org.elasticsearch.env.NodeEnvironment.ShardLocker,org.apache.logging.log4j.Logger)">tryOpenIndex</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">tryOpenIndex</span>&#8203;(<span class="arguments">java.nio.file.Path&nbsp;indexLocation,
<a href="../shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId,
<a href="../../env/NodeEnvironment.ShardLocker.html" title="interface in org.elasticsearch.env">NodeEnvironment.ShardLocker</a>&nbsp;shardLocker,
org.apache.logging.log4j.Logger&nbsp;logger)</span>
                         throws <span class="exceptions">java.io.IOException,
<a href="../../env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></span></div>
<div class="block">Tries to open an index for the given location. This includes reading the
 segment infos and possible corruption markers. If the index can not
 be opened, an exception is thrown</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code><a href="../../env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="createVerifyingOutput(java.lang.String,org.elasticsearch.index.store.StoreFileMetadata,org.apache.lucene.store.IOContext)">createVerifyingOutput</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">org.apache.lucene.store.IndexOutput</span>&nbsp;<span class="memberName">createVerifyingOutput</span>&#8203;(<span class="arguments">java.lang.String&nbsp;fileName,
<a href="StoreFileMetadata.html" title="class in org.elasticsearch.index.store">StoreFileMetadata</a>&nbsp;metadata,
org.apache.lucene.store.IOContext&nbsp;context)</span>
                                                          throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">The returned IndexOutput validates the files checksum.
 <p>
 Note: Checksums are calculated by default since version 4.8.0. This method only adds the
 verification against the checksum in the given metadata and does not add any significant overhead.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="verify(org.apache.lucene.store.IndexOutput)">verify</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">verify</span>&#8203;(<span class="arguments">org.apache.lucene.store.IndexOutput&nbsp;output)</span>
                   throws <span class="exceptions">java.io.IOException</span></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="openVerifyingInput(java.lang.String,org.apache.lucene.store.IOContext,org.elasticsearch.index.store.StoreFileMetadata)">openVerifyingInput</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">org.apache.lucene.store.IndexInput</span>&nbsp;<span class="memberName">openVerifyingInput</span>&#8203;(<span class="arguments">java.lang.String&nbsp;filename,
org.apache.lucene.store.IOContext&nbsp;context,
<a href="StoreFileMetadata.html" title="class in org.elasticsearch.index.store">StoreFileMetadata</a>&nbsp;metadata)</span>
                                                      throws <span class="exceptions">java.io.IOException</span></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="verify(org.apache.lucene.store.IndexInput)">verify</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">verify</span>&#8203;(<span class="arguments">org.apache.lucene.store.IndexInput&nbsp;input)</span>
                   throws <span class="exceptions">java.io.IOException</span></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="checkIntegrityNoException(org.elasticsearch.index.store.StoreFileMetadata)">checkIntegrityNoException</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">checkIntegrityNoException</span>&#8203;(<span class="arguments"><a href="StoreFileMetadata.html" title="class in org.elasticsearch.index.store">StoreFileMetadata</a>&nbsp;md)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="checkIntegrityNoException(org.elasticsearch.index.store.StoreFileMetadata,org.apache.lucene.store.Directory)">checkIntegrityNoException</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">checkIntegrityNoException</span>&#8203;(<span class="arguments"><a href="StoreFileMetadata.html" title="class in org.elasticsearch.index.store">StoreFileMetadata</a>&nbsp;md,
org.apache.lucene.store.Directory&nbsp;directory)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="checkIntegrity(org.elasticsearch.index.store.StoreFileMetadata,org.apache.lucene.store.Directory)">checkIntegrity</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">checkIntegrity</span>&#8203;(<span class="arguments"><a href="StoreFileMetadata.html" title="class in org.elasticsearch.index.store">StoreFileMetadata</a>&nbsp;md,
org.apache.lucene.store.Directory&nbsp;directory)</span>
                           throws <span class="exceptions">java.io.IOException</span></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isMarkedCorrupted()">isMarkedCorrupted</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">isMarkedCorrupted</span>()
                          throws <span class="exceptions">java.io.IOException</span></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="removeCorruptionMarker()">removeCorruptionMarker</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">removeCorruptionMarker</span>()
                            throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Deletes all corruption markers from this store.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="failIfCorrupted()">failIfCorrupted</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">failIfCorrupted</span>()
                     throws <span class="exceptions">java.io.IOException</span></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="cleanupAndVerify(java.lang.String,org.elasticsearch.index.store.Store.MetadataSnapshot)">cleanupAndVerify</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">cleanupAndVerify</span>&#8203;(<span class="arguments">java.lang.String&nbsp;reason,
<a href="Store.MetadataSnapshot.html" title="class in org.elasticsearch.index.store">Store.MetadataSnapshot</a>&nbsp;sourceMetadata)</span>
                      throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">This method deletes every file in this store that is not contained in the given source meta data or is a
 legacy checksum file. After the delete it pulls the latest metadata snapshot from the store and compares it
 to the given snapshot. If the snapshots are inconsistent an illegal state exception is thrown.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>reason</code> - the reason for this cleanup operation logged for each deleted file</dd>
<dd><code>sourceMetadata</code> - the metadata used for cleanup. all files in this metadata should be kept around.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an IOException occurs</dd>
<dd><code>java.lang.IllegalStateException</code> - if the latest snapshot in this store differs from the given one after the cleanup.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="refCount()">refCount</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">int</span>&nbsp;<span class="memberName">refCount</span>()</div>
<div class="block">Returns the current reference count.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="beforeClose()">beforeClose</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">beforeClose</span>()</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="isAutogenerated(java.lang.String)">isAutogenerated</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">boolean</span>&nbsp;<span class="memberName">isAutogenerated</span>&#8203;(<span class="arguments">java.lang.String&nbsp;name)</span></div>
<div class="block">Returns true if the file is auto-generated by the store and shouldn't be deleted during cleanup.
 This includes write lock and checksum files</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="digestToString(long)">digestToString</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">digestToString</span>&#8203;(<span class="arguments">long&nbsp;digest)</span></div>
<div class="block">Produces a string representation of the given digest value.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="deleteQuiet(java.lang.String...)">deleteQuiet</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">deleteQuiet</span>&#8203;(<span class="arguments">java.lang.String...&nbsp;files)</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="markStoreCorrupted(java.io.IOException)">markStoreCorrupted</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">markStoreCorrupted</span>&#8203;(<span class="arguments">java.io.IOException&nbsp;exception)</span>
                        throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Marks this store as corrupted. This method writes a <code>corrupted_${uuid}</code> file containing the given exception
 message. If a store contains a <code>corrupted_${uuid}</code> file <a href="#isMarkedCorrupted()"><code>isMarkedCorrupted()</code></a> will return <code>true</code>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="createEmpty()">createEmpty</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">createEmpty</span>()
                 throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">creates an empty lucene index and a corresponding empty translog. Any existing data will be deleted.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="bootstrapNewHistory()">bootstrapNewHistory</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">bootstrapNewHistory</span>()
                         throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Marks an existing lucene index with a new history uuid.
 This is used to make sure no existing shard will recovery from this index using ops based recovery.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="bootstrapNewHistory(long,long)">bootstrapNewHistory</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">bootstrapNewHistory</span>&#8203;(<span class="arguments">long&nbsp;localCheckpoint,
long&nbsp;maxSeqNo)</span>
                         throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Marks an existing lucene index with a new history uuid and sets the given local checkpoint
 as well as the maximum sequence number.
 This is used to make sure no existing shard will recover from this index using ops based recovery.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../seqno/SequenceNumbers.html#LOCAL_CHECKPOINT_KEY"><code>SequenceNumbers.LOCAL_CHECKPOINT_KEY</code></a>, 
<a href="../seqno/SequenceNumbers.html#MAX_SEQ_NO"><code>SequenceNumbers.MAX_SEQ_NO</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="associateIndexWithNewTranslog(java.lang.String)">associateIndexWithNewTranslog</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">associateIndexWithNewTranslog</span>&#8203;(<span class="arguments">java.lang.String&nbsp;translogUUID)</span>
                                   throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Force bakes the given translog generation as recovery information in the lucene index. This is
 used when recovering from a snapshot or peer file based recovery where a new empty translog is
 created and the existing lucene index needs should be changed to use it.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ensureIndexHasHistoryUUID()">ensureIndexHasHistoryUUID</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">ensureIndexHasHistoryUUID</span>()
                               throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Checks that the Lucene index contains a history uuid marker. If not, a new one is generated and committed.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="trimUnsafeCommits(long,long,org.elasticsearch.Version)">trimUnsafeCommits</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">void</span>&nbsp;<span class="memberName">trimUnsafeCommits</span>&#8203;(<span class="arguments">long&nbsp;lastSyncedGlobalCheckpoint,
long&nbsp;minRetainedTranslogGen,
<a href="../../Version.html" title="class in org.elasticsearch">Version</a>&nbsp;indexVersionCreated)</span>
                       throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Keeping existing unsafe commits when opening an engine can be problematic because these commits are not safe
 at the recovering time but they can suddenly become safe in the future.
 The following issues can happen if unsafe commits are kept oninit.
 <p>
 1. Replica can use unsafe commit in peer-recovery. This happens when a replica with a safe commit c1(max_seqno=1)
 and an unsafe commit c2(max_seqno=2) recovers from a primary with c1(max_seqno=1). If a new document(seqno=2)
 is added without flushing, the global checkpoint is advanced to 2; and the replica recovers again, it will use
 the unsafe commit c2(max_seqno=2 at most gcp=2) as the starting commit for sequenced-based recovery even the
 commit c2 contains a stale operation and the document(with seqno=2) will not be replicated to the replica.
 <p>
 2. Min translog gen for recovery can go backwards in peer-recovery. This happens when are replica with a safe commit
 c1(local_checkpoint=1, recovery_translog_gen=1) and an unsafe commit c2(local_checkpoint=2, recovery_translog_gen=2).
 The replica recovers from a primary, and keeps c2 as the last commit, then sets last_translog_gen to 2. Flushing a new
 commit on the replica will cause exception as the new last commit c3 will have recovery_translog_gen=1. The recovery
 translog generation of a commit is calculated based on the current local checkpoint. The local checkpoint of c3 is 1
 while the local checkpoint of c2 is 2.
 <p>
 3. Commit without translog can be used in recovery. An old index, which was created before multiple-commits is introduced
 (v6.2), may not have a safe commit. If that index has a snapshotted commit without translog and an unsafe commit,
 the policy can consider the snapshotted commit as a safe commit for recovery even the commit does not have translog.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="findSafeIndexCommit(long)">findSafeIndexCommit</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.Optional&lt;<a href="../seqno/SequenceNumbers.CommitInfo.html" title="class in org.elasticsearch.index.seqno">SequenceNumbers.CommitInfo</a>&gt;</span>&nbsp;<span class="memberName">findSafeIndexCommit</span>&#8203;(<span class="arguments">long&nbsp;globalCheckpoint)</span>
                                                                   throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Returns a <a href="../seqno/SequenceNumbers.CommitInfo.html" title="class in org.elasticsearch.index.seqno"><code>SequenceNumbers.CommitInfo</code></a> of the safe commit if exists.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</div>
</div>
</body>
</html>
