<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>org.elasticsearch.persistent (server 7.11.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="description" content="declaration: package: org.elasticsearch.persistent">
<meta name="generator" content="javadoc/PackageWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../script-dir/jquery-ui.js"></script>
</head>
<body class="package-declaration">
<script type="text/javascript">var pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<div class="header">
<h1 title="Package" class="title">Package&nbsp;org.elasticsearch.persistent</h1>
</div>
<div class="contentContainer">
<section class="packageDescription"><a id="package.description">
<!--   -->
</a>
<div class="block">The Persistent Tasks Executors are responsible for executing restartable tasks that can survive disappearance of a
 coordinating and executor nodes.
 <p>
 In order to be resilient to node restarts, the persistent tasks are using the cluster state instead of a transport service to send
 requests and responses. The execution is done in six phases:
 <p>
 1. The coordinating node sends an ordinary transport request to the master node to start a new persistent task. This task is handled
 by the <a href="PersistentTasksService.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksService</code></a>, which is using
 <a href="PersistentTasksClusterService.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksClusterService</code></a> to update cluster state with the record about running persistent
 task.
 <p>
 2. The master node updates the <a href="PersistentTasksCustomMetadata.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksCustomMetadata</code></a> in the cluster state to indicate
 that there is a new persistent task running in the system.
 <p>
 3. The <a href="PersistentTasksNodeService.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksNodeService</code></a> running on every node in the cluster monitors changes in
 the cluster state and starts execution of all new tasks assigned to the node it is running on.
 <p>
 4. If the task fails to start on the node, the <a href="PersistentTasksNodeService.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksNodeService</code></a> uses the
 <a href="PersistentTasksCustomMetadata.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksCustomMetadata</code></a> to notify the
 <a href="PersistentTasksService.html" title="class in org.elasticsearch.persistent"><code>PersistentTasksService</code></a>, which reassigns the action to another node in the cluster.
 <p>
 5. If a task finishes successfully on the node and calls listener.onResponse(), the corresponding persistent action is removed from the
 cluster state unless removeOnCompletion flag for this task is set to false.
 <p>
 6. The <a href="RemovePersistentTaskAction.html" title="class in org.elasticsearch.persistent"><code>RemovePersistentTaskAction</code></a> action can be also used to remove the persistent task.</div>
</section>
<section class="summary">
<ul class="blockList">
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTaskParams.html" title="interface in org.elasticsearch.persistent">PersistentTaskParams</a></th>
<td class="colLast">
<div class="block">Parameters used to start persistent task</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PersistentTasksService.WaitForPersistentTaskListener.html" title="interface in org.elasticsearch.persistent">PersistentTasksService.WaitForPersistentTaskListener</a>&lt;P extends <a href="PersistentTaskParams.html" title="interface in org.elasticsearch.persistent">PersistentTaskParams</a>&gt;</th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTaskState.html" title="interface in org.elasticsearch.persistent">PersistentTaskState</a></th>
<td class="colLast">
<div class="block"><a href="PersistentTaskState.html" title="interface in org.elasticsearch.persistent"><code>PersistentTaskState</code></a> represents the state of the persistent tasks, as it
 is persisted in the cluster state.</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="AllocatedPersistentTask.html" title="class in org.elasticsearch.persistent">AllocatedPersistentTask</a></th>
<td class="colLast">
<div class="block">Represents a executor node operation that corresponds to a persistent task</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CompletionPersistentTaskAction.html" title="class in org.elasticsearch.persistent">CompletionPersistentTaskAction</a></th>
<td class="colLast">
<div class="block">ActionType that is used by executor node to indicate that the persistent action finished or failed on the node and needs to be
 removed from the cluster state in case of successful completion or restarted on some other node in case of failure.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CompletionPersistentTaskAction.Request.html" title="class in org.elasticsearch.persistent">CompletionPersistentTaskAction.Request</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CompletionPersistentTaskAction.RequestBuilder.html" title="class in org.elasticsearch.persistent">CompletionPersistentTaskAction.RequestBuilder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CompletionPersistentTaskAction.TransportAction.html" title="class in org.elasticsearch.persistent">CompletionPersistentTaskAction.TransportAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="NodePersistentTasksExecutor.html" title="class in org.elasticsearch.persistent">NodePersistentTasksExecutor</a></th>
<td class="colLast">
<div class="block">This component is responsible for execution of persistent tasks.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTaskResponse.html" title="class in org.elasticsearch.persistent">PersistentTaskResponse</a></th>
<td class="colLast">
<div class="block">Response upon a successful start or an persistent task</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PersistentTasksClusterService.html" title="class in org.elasticsearch.persistent">PersistentTasksClusterService</a></th>
<td class="colLast">
<div class="block">Component that runs only on the master node and is responsible for assigning running tasks to nodes</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTasksCustomMetadata.html" title="class in org.elasticsearch.persistent">PersistentTasksCustomMetadata</a></th>
<td class="colLast">
<div class="block">A cluster state record that contains a list of all running persistent tasks</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PersistentTasksCustomMetadata.Assignment.html" title="class in org.elasticsearch.persistent">PersistentTasksCustomMetadata.Assignment</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTasksCustomMetadata.Builder.html" title="class in org.elasticsearch.persistent">PersistentTasksCustomMetadata.Builder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PersistentTasksCustomMetadata.PersistentTask.html" title="class in org.elasticsearch.persistent">PersistentTasksCustomMetadata.PersistentTask</a>&lt;P extends <a href="PersistentTaskParams.html" title="interface in org.elasticsearch.persistent">PersistentTaskParams</a>&gt;</th>
<td class="colLast">
<div class="block">A record that represents a single running persistent task</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTasksExecutor.html" title="class in org.elasticsearch.persistent">PersistentTasksExecutor</a>&lt;Params extends <a href="PersistentTaskParams.html" title="interface in org.elasticsearch.persistent">PersistentTaskParams</a>&gt;</th>
<td class="colLast">
<div class="block">An executor of tasks that can survive restart of requesting or executing node.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PersistentTasksExecutorRegistry.html" title="class in org.elasticsearch.persistent">PersistentTasksExecutorRegistry</a></th>
<td class="colLast">
<div class="block">Components that registers all persistent task executors</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTasksNodeService.html" title="class in org.elasticsearch.persistent">PersistentTasksNodeService</a></th>
<td class="colLast">
<div class="block">This component is responsible for coordination of execution of persistent tasks on individual nodes.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PersistentTasksNodeService.Status.html" title="class in org.elasticsearch.persistent">PersistentTasksNodeService.Status</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="PersistentTasksService.html" title="class in org.elasticsearch.persistent">PersistentTasksService</a></th>
<td class="colLast">
<div class="block">This service is used by persistent tasks and allocated persistent tasks to communicate changes
 to the master node so that the master can update the cluster state and can track of the states
 of the persistent tasks.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="RemovePersistentTaskAction.html" title="class in org.elasticsearch.persistent">RemovePersistentTaskAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="RemovePersistentTaskAction.Request.html" title="class in org.elasticsearch.persistent">RemovePersistentTaskAction.Request</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="RemovePersistentTaskAction.RequestBuilder.html" title="class in org.elasticsearch.persistent">RemovePersistentTaskAction.RequestBuilder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="RemovePersistentTaskAction.TransportAction.html" title="class in org.elasticsearch.persistent">RemovePersistentTaskAction.TransportAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="StartPersistentTaskAction.html" title="class in org.elasticsearch.persistent">StartPersistentTaskAction</a></th>
<td class="colLast">
<div class="block">This action can be used to add the record for the persistent action to the cluster state.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="StartPersistentTaskAction.Request.html" title="class in org.elasticsearch.persistent">StartPersistentTaskAction.Request</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="StartPersistentTaskAction.RequestBuilder.html" title="class in org.elasticsearch.persistent">StartPersistentTaskAction.RequestBuilder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="StartPersistentTaskAction.TransportAction.html" title="class in org.elasticsearch.persistent">StartPersistentTaskAction.TransportAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="UpdatePersistentTaskStatusAction.html" title="class in org.elasticsearch.persistent">UpdatePersistentTaskStatusAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="UpdatePersistentTaskStatusAction.Request.html" title="class in org.elasticsearch.persistent">UpdatePersistentTaskStatusAction.Request</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="UpdatePersistentTaskStatusAction.RequestBuilder.html" title="class in org.elasticsearch.persistent">UpdatePersistentTaskStatusAction.RequestBuilder</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="UpdatePersistentTaskStatusAction.TransportAction.html" title="class in org.elasticsearch.persistent">UpdatePersistentTaskStatusAction.TransportAction</a></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="blockList">
<div class="typeSummary">
<table>
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="AllocatedPersistentTask.State.html" title="enum in org.elasticsearch.persistent">AllocatedPersistentTask.State</a></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</section>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</div>
</div>
</body>
</html>
