<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>CircuitBreaker (server 7.11.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="description" content="declaration: package: org.elasticsearch.common.breaker, interface: CircuitBreaker">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":6,"i8":6,"i9":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.elasticsearch.common.breaker</a></div>
<h1 title="Interface CircuitBreaker" class="title">Interface CircuitBreaker</h1>
</div>
<div class="contentContainer">
<section class="description">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="ChildMemoryCircuitBreaker.html" title="class in org.elasticsearch.common.breaker">ChildMemoryCircuitBreaker</a></code>, <code><a href="NoopCircuitBreaker.html" title="class in org.elasticsearch.common.breaker">NoopCircuitBreaker</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">CircuitBreaker</span></pre>
<div class="block">Interface for an object that can be incremented, breaking after some
 configured limit has been reached.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
<!--   -->
</a>
<h2>Nested Class Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="CircuitBreaker.Durability.html" title="enum in org.elasticsearch.common.breaker">CircuitBreaker.Durability</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="CircuitBreaker.Type.html" title="enum in org.elasticsearch.common.breaker">CircuitBreaker.Type</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ACCOUNTING">ACCOUNTING</a></span></code></th>
<td class="colLast">
<div class="block">The accounting breaker tracks things held in memory that is independent
 of the request lifecycle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#FIELDDATA">FIELDDATA</a></span></code></th>
<td class="colLast">
<div class="block">The fielddata breaker tracks data used for fielddata (on fields) as well
 as the id cached used for parent/child queries.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#IN_FLIGHT_REQUESTS">IN_FLIGHT_REQUESTS</a></span></code></th>
<td class="colLast">
<div class="block">The in-flight request breaker tracks bytes allocated for reading and
 writing requests on the network layer.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#PARENT">PARENT</a></span></code></th>
<td class="colLast">
<div class="block">The parent breaker is a sum of all the following breakers combined.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#REQUEST">REQUEST</a></span></code></th>
<td class="colLast">
<div class="block">The request breaker tracks memory used for particular requests.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addEstimateBytesAndMaybeBreak(long,java.lang.String)">addEstimateBytesAndMaybeBreak</a></span>&#8203;(long&nbsp;bytes,
java.lang.String&nbsp;label)</code></th>
<td class="colLast">
<div class="block">add bytes to the breaker and maybe trip</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addWithoutBreaking(long)">addWithoutBreaking</a></span>&#8203;(long&nbsp;bytes)</code></th>
<td class="colLast">
<div class="block">Adjust the circuit breaker without tripping</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#circuitBreak(java.lang.String,long)">circuitBreak</a></span>&#8203;(java.lang.String&nbsp;fieldName,
long&nbsp;bytesNeeded)</code></th>
<td class="colLast">
<div class="block">Trip the circuit breaker</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code><a href="CircuitBreaker.Durability.html" title="enum in org.elasticsearch.common.breaker">CircuitBreaker.Durability</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDurability()">getDurability</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLimit()">getLimit</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getName()">getName</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOverhead()">getOverhead</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTrippedCount()">getTrippedCount</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getUsed()">getUsed</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setLimitAndOverhead(long,double)">setLimitAndOverhead</a></span>&#8203;(long&nbsp;limit,
double&nbsp;overhead)</code></th>
<td class="colLast">
<div class="block">sets the new limit and overhead values for the circuit breaker.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="PARENT">PARENT</a></h3>
<div class="memberSignature"><span class="modifiers">static final</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">PARENT</span></div>
<div class="block">The parent breaker is a sum of all the following breakers combined. With
 this we allow a single breaker to have a significant amount of memory
 available while still having a "total" limit for all breakers. Note that
 it's not a "real" breaker in that it cannot be added to or subtracted
 from by itself.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.elasticsearch.common.breaker.CircuitBreaker.PARENT">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="FIELDDATA">FIELDDATA</a></h3>
<div class="memberSignature"><span class="modifiers">static final</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">FIELDDATA</span></div>
<div class="block">The fielddata breaker tracks data used for fielddata (on fields) as well
 as the id cached used for parent/child queries.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.elasticsearch.common.breaker.CircuitBreaker.FIELDDATA">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="REQUEST">REQUEST</a></h3>
<div class="memberSignature"><span class="modifiers">static final</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">REQUEST</span></div>
<div class="block">The request breaker tracks memory used for particular requests. This
 includes allocations for things like the cardinality aggregation, and
 accounting for the number of buckets used in an aggregation request.
 Generally the amounts added to this breaker are released after a request
 is finished.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.elasticsearch.common.breaker.CircuitBreaker.REQUEST">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="IN_FLIGHT_REQUESTS">IN_FLIGHT_REQUESTS</a></h3>
<div class="memberSignature"><span class="modifiers">static final</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">IN_FLIGHT_REQUESTS</span></div>
<div class="block">The in-flight request breaker tracks bytes allocated for reading and
 writing requests on the network layer.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.elasticsearch.common.breaker.CircuitBreaker.IN_FLIGHT_REQUESTS">Constant Field Values</a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ACCOUNTING">ACCOUNTING</a></h3>
<div class="memberSignature"><span class="modifiers">static final</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">ACCOUNTING</span></div>
<div class="block">The accounting breaker tracks things held in memory that is independent
 of the request lifecycle. This includes memory used by Lucene for
 segments.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.elasticsearch.common.breaker.CircuitBreaker.ACCOUNTING">Constant Field Values</a></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="circuitBreak(java.lang.String,long)">circuitBreak</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">circuitBreak</span>&#8203;(<span class="arguments">java.lang.String&nbsp;fieldName,
long&nbsp;bytesNeeded)</span></div>
<div class="block">Trip the circuit breaker</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fieldName</code> - name of the field responsible for tripping the breaker</dd>
<dd><code>bytesNeeded</code> - bytes asked for but unable to be allocated</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addEstimateBytesAndMaybeBreak(long,java.lang.String)">addEstimateBytesAndMaybeBreak</a></h3>
<div class="memberSignature"><span class="returnType">double</span>&nbsp;<span class="memberName">addEstimateBytesAndMaybeBreak</span>&#8203;(<span class="arguments">long&nbsp;bytes,
java.lang.String&nbsp;label)</span>
                              throws <span class="exceptions"><a href="CircuitBreakingException.html" title="class in org.elasticsearch.common.breaker">CircuitBreakingException</a></span></div>
<div class="block">add bytes to the breaker and maybe trip</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bytes</code> - number of bytes to add</dd>
<dd><code>label</code> - string label describing the bytes being added</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of "used" bytes for the circuit breaker</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="CircuitBreakingException.html" title="class in org.elasticsearch.common.breaker">CircuitBreakingException</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="addWithoutBreaking(long)">addWithoutBreaking</a></h3>
<div class="memberSignature"><span class="returnType">long</span>&nbsp;<span class="memberName">addWithoutBreaking</span>&#8203;(<span class="arguments">long&nbsp;bytes)</span></div>
<div class="block">Adjust the circuit breaker without tripping</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getUsed()">getUsed</a></h3>
<div class="memberSignature"><span class="returnType">long</span>&nbsp;<span class="memberName">getUsed</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the currently used bytes the breaker is tracking</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getLimit()">getLimit</a></h3>
<div class="memberSignature"><span class="returnType">long</span>&nbsp;<span class="memberName">getLimit</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>maximum number of bytes the circuit breaker can track before tripping</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getOverhead()">getOverhead</a></h3>
<div class="memberSignature"><span class="returnType">double</span>&nbsp;<span class="memberName">getOverhead</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>overhead of circuit breaker</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getTrippedCount()">getTrippedCount</a></h3>
<div class="memberSignature"><span class="returnType">long</span>&nbsp;<span class="memberName">getTrippedCount</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of times the circuit breaker has been tripped</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getName()">getName</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">getName</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the name of the breaker</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getDurability()">getDurability</a></h3>
<div class="memberSignature"><span class="returnType"><a href="CircuitBreaker.Durability.html" title="enum in org.elasticsearch.common.breaker">CircuitBreaker.Durability</a></span>&nbsp;<span class="memberName">getDurability</span>()</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether a tripped circuit breaker will reset itself (transient) or requires manual intervention (permanent).</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setLimitAndOverhead(long,double)">setLimitAndOverhead</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">setLimitAndOverhead</span>&#8203;(<span class="arguments">long&nbsp;limit,
double&nbsp;overhead)</span></div>
<div class="block">sets the new limit and overhead values for the circuit breaker.
 The resulting write should be readable by other threads.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>limit</code> - the desired limit</dd>
<dd><code>overhead</code> - the desired overhead constant</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</div>
</div>
</body>
</html>
