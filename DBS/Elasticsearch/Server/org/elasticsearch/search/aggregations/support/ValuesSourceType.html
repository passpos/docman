<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>ValuesSourceType (server 7.11.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="description" content="declaration: package: org.elasticsearch.search.aggregations.support, interface: ValuesSourceType">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":6,"i1":6,"i2":18,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.elasticsearch.search.aggregations.support</a></div>
<h1 title="Interface ValuesSourceType" class="title">Interface ValuesSourceType</h1>
</div>
<div class="contentContainer">
<section class="description">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="CoreValuesSourceType.html" title="enum in org.elasticsearch.search.aggregations.support">CoreValuesSourceType</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">ValuesSourceType</span></pre>
<div class="block"><a href="ValuesSourceType.html" title="interface in org.elasticsearch.search.aggregations.support"><code>ValuesSourceType</code></a> represents a collection of fields that share a common set of operations, for example all numeric fields.
 Aggregations declare their support for a given ValuesSourceType (via <a href="ValuesSourceRegistry.Builder.html#register(org.elasticsearch.search.aggregations.support.ValuesSourceRegistry.RegistryKey,org.elasticsearch.search.aggregations.support.ValuesSourceType,T,boolean)"><code>ValuesSourceRegistry.Builder.register(org.elasticsearch.search.aggregations.support.ValuesSourceRegistry.RegistryKey&lt;T&gt;, org.elasticsearch.search.aggregations.support.ValuesSourceType, T, boolean)</code></a>),
 and should then not need to care about the fields which use that ValuesSourceType.

 ValuesSourceTypes provide a set of methods to instantiate concrete <a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSource</code></a> instances, based on the actual source of the
 data for the aggregations.  In general, aggregations should not call these methods, but rather rely on <a href="ValuesSourceConfig.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSourceConfig</code></a> to have
 selected the correct implementation.

 ValuesSourceTypes should be stateless.  We recommend that plugins define an enum for their ValuesSourceTypes, even if the plugin only
 intends to define one ValuesSourceType.  ValuesSourceTypes are not serialized as part of the aggregations framework.

 Prefer reusing an existing ValuesSourceType (ideally from <a href="CoreValuesSourceType.html" title="enum in org.elasticsearch.search.aggregations.support"><code>CoreValuesSourceType</code></a>) over creating a new type.  There are some cases
 where creating a new type is necessary however.  In particular, consider a new ValuesSourceType if the field has custom encoding/decoding
 requirements; if the field needs to expose additional information to the aggregation (e.g. <a href="ValuesSource.Range.html#rangeType()"><code>ValuesSource.Range.rangeType()</code></a>); or
 if logically the type needs a more restricted use (e.g. even though dates are stored as numbers, it doesn't make sense to pass them to
 a sum aggregation).  When adding a new ValuesSourceType, new aggregators should be added and registered at the same time, to add support
 for the new type to existing aggregations, as appropriate.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t5" class="tableTab" onclick="show(16);">Default Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code><a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support">ValuesSource</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getEmpty()">getEmpty</a></span>()</code></th>
<td class="colLast">
<div class="block">Called when an aggregation is operating over a known empty set (usually because the field isn't specified), this method allows for
 returning a no-op implementation.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code><a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support">ValuesSource</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getField(org.elasticsearch.search.aggregations.support.FieldContext,org.elasticsearch.script.AggregationScript.LeafFactory,org.elasticsearch.search.aggregations.support.AggregationContext)">getField</a></span>&#8203;(<a href="FieldContext.html" title="class in org.elasticsearch.search.aggregations.support">FieldContext</a>&nbsp;fieldContext,
<a href="../../../script/AggregationScript.LeafFactory.html" title="interface in org.elasticsearch.script">AggregationScript.LeafFactory</a>&nbsp;script,
<a href="AggregationContext.html" title="class in org.elasticsearch.search.aggregations.support">AggregationContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Return a <a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSource</code></a> wrapping a field for the given type.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>default <a href="../../DocValueFormat.html" title="interface in org.elasticsearch.search">DocValueFormat</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFormatter(java.lang.String,java.time.ZoneId)">getFormatter</a></span>&#8203;(java.lang.String&nbsp;format,
java.time.ZoneId&nbsp;tz)</code></th>
<td class="colLast">
<div class="block">This method provides a hook for specifying a type-specific formatter.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code><a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support">ValuesSource</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getScript(org.elasticsearch.script.AggregationScript.LeafFactory,org.elasticsearch.search.aggregations.support.ValueType)">getScript</a></span>&#8203;(<a href="../../../script/AggregationScript.LeafFactory.html" title="interface in org.elasticsearch.script">AggregationScript.LeafFactory</a>&nbsp;script,
<a href="ValueType.html" title="enum in org.elasticsearch.search.aggregations.support">ValueType</a>&nbsp;scriptValueType)</code></th>
<td class="colLast">
<div class="block">Returns the type-specific sub class for a script data source.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code><a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support">ValuesSource</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#replaceMissing(org.elasticsearch.search.aggregations.support.ValuesSource,java.lang.Object,org.elasticsearch.search.DocValueFormat,org.elasticsearch.search.aggregations.support.AggregationContext)">replaceMissing</a></span>&#8203;(<a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support">ValuesSource</a>&nbsp;valuesSource,
java.lang.Object&nbsp;rawMissing,
<a href="../../DocValueFormat.html" title="interface in org.elasticsearch.search">DocValueFormat</a>&nbsp;docValueFormat,
<a href="AggregationContext.html" title="class in org.elasticsearch.search.aggregations.support">AggregationContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Apply the given missing value to an already-constructed <a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSource</code></a>.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#typeName()">typeName</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the name of the Values Source Type for stats purposes</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="getEmpty()">getEmpty</a></h3>
<div class="memberSignature"><span class="returnType"><a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support">ValuesSource</a></span>&nbsp;<span class="memberName">getEmpty</span>()</div>
<div class="block">Called when an aggregation is operating over a known empty set (usually because the field isn't specified), this method allows for
 returning a no-op implementation.  All <a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSource</code></a>s should implement this method.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- Empty specialization of the base <a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSource</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getScript(org.elasticsearch.script.AggregationScript.LeafFactory,org.elasticsearch.search.aggregations.support.ValueType)">getScript</a></h3>
<div class="memberSignature"><span class="returnType"><a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support">ValuesSource</a></span>&nbsp;<span class="memberName">getScript</span>&#8203;(<span class="arguments"><a href="../../../script/AggregationScript.LeafFactory.html" title="interface in org.elasticsearch.script">AggregationScript.LeafFactory</a>&nbsp;script,
<a href="ValueType.html" title="enum in org.elasticsearch.search.aggregations.support">ValueType</a>&nbsp;scriptValueType)</span></div>
<div class="block">Returns the type-specific sub class for a script data source.  <a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSource</code></a>s that do not support scripts should throw
 <a href="../AggregationExecutionException.html" title="class in org.elasticsearch.search.aggregations"><code>AggregationExecutionException</code></a>.  Note that this method is called when a script is
 operating without an underlying field.  Scripts operating over fields are handled by the script argument to getField below.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>script</code> - - The script being wrapped</dd>
<dd><code>scriptValueType</code> - - The expected output type of the script</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- Script specialization of the base <a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSource</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getField(org.elasticsearch.search.aggregations.support.FieldContext,org.elasticsearch.script.AggregationScript.LeafFactory,org.elasticsearch.search.aggregations.support.AggregationContext)">getField</a></h3>
<div class="memberSignature"><span class="returnType"><a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support">ValuesSource</a></span>&nbsp;<span class="memberName">getField</span>&#8203;(<span class="arguments"><a href="FieldContext.html" title="class in org.elasticsearch.search.aggregations.support">FieldContext</a>&nbsp;fieldContext,
<a href="../../../script/AggregationScript.LeafFactory.html" title="interface in org.elasticsearch.script">AggregationScript.LeafFactory</a>&nbsp;script,
<a href="AggregationContext.html" title="class in org.elasticsearch.search.aggregations.support">AggregationContext</a>&nbsp;context)</span></div>
<div class="block">Return a <a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSource</code></a> wrapping a field for the given type.  All <a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSource</code></a>s must implement this method.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fieldContext</code> - - The field being wrapped</dd>
<dd><code>script</code> - - Optional script that might be applied over the field</dd>
<dd><code>context</code> - context for the aggregation fetching the field</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- Field specialization of the base <a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSource</code></a></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="replaceMissing(org.elasticsearch.search.aggregations.support.ValuesSource,java.lang.Object,org.elasticsearch.search.DocValueFormat,org.elasticsearch.search.aggregations.support.AggregationContext)">replaceMissing</a></h3>
<div class="memberSignature"><span class="returnType"><a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support">ValuesSource</a></span>&nbsp;<span class="memberName">replaceMissing</span>&#8203;(<span class="arguments"><a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support">ValuesSource</a>&nbsp;valuesSource,
java.lang.Object&nbsp;rawMissing,
<a href="../../DocValueFormat.html" title="interface in org.elasticsearch.search">DocValueFormat</a>&nbsp;docValueFormat,
<a href="AggregationContext.html" title="class in org.elasticsearch.search.aggregations.support">AggregationContext</a>&nbsp;context)</span></div>
<div class="block">Apply the given missing value to an already-constructed <a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSource</code></a>.  Types which do not support missing values should throw
 <a href="../AggregationExecutionException.html" title="class in org.elasticsearch.search.aggregations"><code>AggregationExecutionException</code></a></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>valuesSource</code> - - The original <a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSource</code></a></dd>
<dd><code>rawMissing</code> - - The missing value we got from the parser, typically a string or number</dd>
<dd><code>docValueFormat</code> - - The format to use for further parsing the user supplied value, e.g. a date format</dd>
<dd><code>context</code> - - Context for this aggregation used to handle <a href="AggregationContext.html#nowInMillis()"><code>"now"</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- Wrapper over the provided <a href="ValuesSource.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSource</code></a> to apply the given missing value</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getFormatter(java.lang.String,java.time.ZoneId)">getFormatter</a></h3>
<div class="memberSignature"><span class="modifiers">default</span>&nbsp;<span class="returnType"><a href="../../DocValueFormat.html" title="interface in org.elasticsearch.search">DocValueFormat</a></span>&nbsp;<span class="memberName">getFormatter</span>&#8203;(<span class="arguments">java.lang.String&nbsp;format,
java.time.ZoneId&nbsp;tz)</span></div>
<div class="block">This method provides a hook for specifying a type-specific formatter.  When <a href="ValuesSourceConfig.html" title="class in org.elasticsearch.search.aggregations.support"><code>ValuesSourceConfig</code></a> can resolve a
 <a href="../../../index/mapper/MappedFieldType.html" title="class in org.elasticsearch.index.mapper"><code>MappedFieldType</code></a>, it prefers to get the formatter from there.  Only when a field can't be
 resolved (which is to say script cases and unmapped field cases), it will fall back to calling this method on whatever
 <a href="ValuesSourceType.html" title="interface in org.elasticsearch.search.aggregations.support"><code>ValuesSourceType</code></a> it was able to resolve to.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>format</code> - - User supplied format string (Optional)</dd>
<dd><code>tz</code> - - User supplied time zone (Optional)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- A formatter object, configured with the passed in settings if appropriate.</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="typeName()">typeName</a></h3>
<div class="memberSignature"><span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">typeName</span>()</div>
<div class="block">Returns the name of the Values Source Type for stats purposes</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the name of the Values Source Type</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</div>
</div>
</body>
</html>
