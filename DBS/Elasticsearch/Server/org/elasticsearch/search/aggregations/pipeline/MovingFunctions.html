<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>MovingFunctions (server 7.11.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="description" content="declaration: package: org.elasticsearch.search.aggregations.pipeline, class: MovingFunctions">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":9,"i1":9,"i2":9,"i3":9,"i4":9,"i5":9,"i6":9,"i7":9,"i8":9,"i9":9,"i10":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.elasticsearch.search.aggregations.pipeline</a></div>
<h1 title="Class MovingFunctions" class="title">Class MovingFunctions</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">org.elasticsearch.search.aggregations.pipeline.MovingFunctions</div>
</div>
<section class="description">
<hr>
<pre>public class <span class="typeNameLabel">MovingFunctions</span>
extends java.lang.Object</pre>
<div class="block">Provides a collection of static utility methods that can be referenced from MovingFunction script contexts</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">MovingFunctions</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t1" class="tableTab" onclick="show(1);">Static Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ewma(double%5B%5D,double)">ewma</a></span>&#8203;(double[]&nbsp;values,
double&nbsp;alpha)</code></th>
<td class="colLast">
<div class="block">Calculate a exponentially weighted moving average.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#holt(double%5B%5D,double,double)">holt</a></span>&#8203;(double[]&nbsp;values,
double&nbsp;alpha,
double&nbsp;beta)</code></th>
<td class="colLast">
<div class="block">Calculate a doubly exponential weighted moving average

 Alpha controls the smoothing of the data.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>static double[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#holtForecast(double%5B%5D,double,double,int)">holtForecast</a></span>&#8203;(double[]&nbsp;values,
double&nbsp;alpha,
double&nbsp;beta,
int&nbsp;numForecasts)</code></th>
<td class="colLast">
<div class="block">Version of holt that can "forecast", not exposed as a whitelisted function for moving_fn scripts, but
 here as compatibility/code sharing for existing moving_avg agg.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#holtWinters(double%5B%5D,double,double,double,int,boolean)">holtWinters</a></span>&#8203;(double[]&nbsp;values,
double&nbsp;alpha,
double&nbsp;beta,
double&nbsp;gamma,
int&nbsp;period,
boolean&nbsp;multiplicative)</code></th>
<td class="colLast">
<div class="block">Calculate a triple exponential weighted moving average

 Alpha controls the smoothing of the data.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>static double[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#holtWintersForecast(double%5B%5D,double,double,double,int,double,boolean,int)">holtWintersForecast</a></span>&#8203;(double[]&nbsp;values,
double&nbsp;alpha,
double&nbsp;beta,
double&nbsp;gamma,
int&nbsp;period,
double&nbsp;padding,
boolean&nbsp;multiplicative,
int&nbsp;numForecasts)</code></th>
<td class="colLast">
<div class="block">Version of holt-winters that can "forecast", not exposed as a whitelisted function for moving_fn scripts, but
 here as compatibility/code sharing for existing moving_avg agg.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#linearWeightedAvg(double%5B%5D)">linearWeightedAvg</a></span>&#8203;(double[]&nbsp;values)</code></th>
<td class="colLast">
<div class="block">Calculate a linearly weighted moving average, such that older values are
 linearly less important.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#max(double%5B%5D)">max</a></span>&#8203;(double[]&nbsp;values)</code></th>
<td class="colLast">
<div class="block">Find the maximum value in a window of values.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#min(double%5B%5D)">min</a></span>&#8203;(double[]&nbsp;values)</code></th>
<td class="colLast">
<div class="block">Find the minimum value in a window of values
 If all values are missing/null/NaN, the return value will be NaN</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#stdDev(double%5B%5D,double)">stdDev</a></span>&#8203;(double[]&nbsp;values,
double&nbsp;avg)</code></th>
<td class="colLast">
<div class="block">Calculate a standard deviation over the values using the provided average.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#sum(double%5B%5D)">sum</a></span>&#8203;(double[]&nbsp;values)</code></th>
<td class="colLast">
<div class="block">Find the sum of a window of values
 If all values are missing/null/NaN, the return value will be 0.0</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#unweightedAvg(double%5B%5D)">unweightedAvg</a></span>&#8203;(double[]&nbsp;values)</code></th>
<td class="colLast">
<div class="block">Calculate a simple unweighted (arithmetic) moving average.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;()">MovingFunctions</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="memberName">MovingFunctions</span>()</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="max(double[])">max</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">max</span>&#8203;(<span class="arguments">double[]&nbsp;values)</span></div>
<div class="block">Find the maximum value in a window of values.
 If all values are missing/null/NaN, the return value will be NaN</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="min(double[])">min</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">min</span>&#8203;(<span class="arguments">double[]&nbsp;values)</span></div>
<div class="block">Find the minimum value in a window of values
 If all values are missing/null/NaN, the return value will be NaN</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="sum(double[])">sum</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">sum</span>&#8203;(<span class="arguments">double[]&nbsp;values)</span></div>
<div class="block">Find the sum of a window of values
 If all values are missing/null/NaN, the return value will be 0.0</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="unweightedAvg(double[])">unweightedAvg</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">unweightedAvg</span>&#8203;(<span class="arguments">double[]&nbsp;values)</span></div>
<div class="block">Calculate a simple unweighted (arithmetic) moving average.

 Only finite values are averaged.  NaN or null are ignored.
 If all values are missing/null/NaN, the return value will be NaN.
 The average is based on the count of non-null, non-NaN values.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="stdDev(double[],double)">stdDev</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">stdDev</span>&#8203;(<span class="arguments">double[]&nbsp;values,
double&nbsp;avg)</span></div>
<div class="block">Calculate a standard deviation over the values using the provided average.

 Only finite values are averaged.  NaN or null are ignored.
 If all values are missing/null/NaN, the return value will be NaN.
 The average is based on the count of non-null, non-NaN values.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="linearWeightedAvg(double[])">linearWeightedAvg</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">linearWeightedAvg</span>&#8203;(<span class="arguments">double[]&nbsp;values)</span></div>
<div class="block">Calculate a linearly weighted moving average, such that older values are
 linearly less important.  "Time" is determined by position in collection

 Only finite values are averaged.  NaN or null are ignored.
 If all values are missing/null/NaN, the return value will be NaN
 The average is based on the count of non-null, non-NaN values.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="ewma(double[],double)">ewma</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">ewma</span>&#8203;(<span class="arguments">double[]&nbsp;values,
double&nbsp;alpha)</span></div>
<div class="block">Calculate a exponentially weighted moving average.

 Alpha controls the smoothing of the data.  Alpha = 1 retains no memory of past values
 (e.g. a random walk), while alpha = 0 retains infinite memory of past values (e.g.
 the series mean).  Useful values are somewhere in between.  Defaults to 0.5.

 Only finite values are averaged.  NaN or null are ignored.
 If all values are missing/null/NaN, the return value will be NaN
 The average is based on the count of non-null, non-NaN values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>alpha</code> - A double between 0-1 inclusive, controls data smoothing</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="holt(double[],double,double)">holt</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">holt</span>&#8203;(<span class="arguments">double[]&nbsp;values,
double&nbsp;alpha,
double&nbsp;beta)</span></div>
<div class="block">Calculate a doubly exponential weighted moving average

 Alpha controls the smoothing of the data.  Alpha = 1 retains no memory of past values
 (e.g. a random walk), while alpha = 0 retains infinite memory of past values (e.g.
 the series mean).  Useful values are somewhere in between.  Defaults to 0.5.

 Beta is equivalent to alpha, but controls the smoothing of the trend instead of the data

 Only finite values are averaged.  NaN or null are ignored.
 If all values are missing/null/NaN, the return value will be NaN
 The average is based on the count of non-null, non-NaN values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>alpha</code> - A double between 0-1 inclusive, controls data smoothing</dd>
<dd><code>beta</code> - a double between 0-1 inclusive, controls trend smoothing</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="holtForecast(double[],double,double,int)">holtForecast</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">double[]</span>&nbsp;<span class="memberName">holtForecast</span>&#8203;(<span class="arguments">double[]&nbsp;values,
double&nbsp;alpha,
double&nbsp;beta,
int&nbsp;numForecasts)</span></div>
<div class="block">Version of holt that can "forecast", not exposed as a whitelisted function for moving_fn scripts, but
 here as compatibility/code sharing for existing moving_avg agg.  Can be removed when moving_avg is gone.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="holtWinters(double[],double,double,double,int,boolean)">holtWinters</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">double</span>&nbsp;<span class="memberName">holtWinters</span>&#8203;(<span class="arguments">double[]&nbsp;values,
double&nbsp;alpha,
double&nbsp;beta,
double&nbsp;gamma,
int&nbsp;period,
boolean&nbsp;multiplicative)</span></div>
<div class="block">Calculate a triple exponential weighted moving average

 Alpha controls the smoothing of the data.  Alpha = 1 retains no memory of past values
 (e.g. a random walk), while alpha = 0 retains infinite memory of past values (e.g.
 the series mean).  Useful values are somewhere in between.  Defaults to 0.5.

 Beta is equivalent to alpha, but controls the smoothing of the trend instead of the data.
 Gamma is equivalent to alpha, but controls the smoothing of the seasonality instead of the data

 Only finite values are averaged.  NaN or null are ignored.
 If all values are missing/null/NaN, the return value will be NaN
 The average is based on the count of non-null, non-NaN values.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>alpha</code> - A double between 0-1 inclusive, controls data smoothing</dd>
<dd><code>beta</code> - a double between 0-1 inclusive, controls trend smoothing</dd>
<dd><code>gamma</code> - a double between 0-1 inclusive, controls seasonality smoothing</dd>
<dd><code>period</code> - the expected periodicity of the data</dd>
<dd><code>multiplicative</code> - true if multiplicative HW should be used. False for additive</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="holtWintersForecast(double[],double,double,double,int,double,boolean,int)">holtWintersForecast</a></h3>
<div class="memberSignature"><span class="modifiers">public static</span>&nbsp;<span class="returnType">double[]</span>&nbsp;<span class="memberName">holtWintersForecast</span>&#8203;(<span class="arguments">double[]&nbsp;values,
double&nbsp;alpha,
double&nbsp;beta,
double&nbsp;gamma,
int&nbsp;period,
double&nbsp;padding,
boolean&nbsp;multiplicative,
int&nbsp;numForecasts)</span></div>
<div class="block">Version of holt-winters that can "forecast", not exposed as a whitelisted function for moving_fn scripts, but
 here as compatibility/code sharing for existing moving_avg agg.  Can be removed when moving_avg is gone.</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</div>
</div>
</body>
</html>
