<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>AggregationBuilder (server 7.11.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="description" content="declaration: package: org.elasticsearch.search.aggregations, class: AggregationBuilder">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":6,"i1":6,"i2":10,"i3":10,"i4":6,"i5":10,"i6":10,"i7":10,"i8":10,"i9":6,"i10":6,"i11":6,"i12":6,"i13":6,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.elasticsearch.search.aggregations</a></div>
<h1 title="Class AggregationBuilder" class="title">Class AggregationBuilder</h1>
</div>
<div class="contentContainer">
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance">org.elasticsearch.search.aggregations.AggregationBuilder</div>
</div>
<section class="description">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../common/io/stream/NamedWriteable.html" title="interface in org.elasticsearch.common.io.stream">NamedWriteable</a></code>, <code><a href="../../common/io/stream/Writeable.html" title="interface in org.elasticsearch.common.io.stream">Writeable</a></code>, <code>org.elasticsearch.common.xcontent.ToXContent</code>, <code>org.elasticsearch.common.xcontent.ToXContentFragment</code>, <code><a href="../../index/query/Rewriteable.html" title="interface in org.elasticsearch.index.query">Rewriteable</a>&lt;<a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a>&gt;</code>, <code><a href="BaseAggregationBuilder.html" title="interface in org.elasticsearch.search.aggregations">BaseAggregationBuilder</a></code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="AbstractAggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AbstractAggregationBuilder</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">AggregationBuilder</span>
extends java.lang.Object
implements <a href="../../common/io/stream/NamedWriteable.html" title="interface in org.elasticsearch.common.io.stream">NamedWriteable</a>, org.elasticsearch.common.xcontent.ToXContentFragment, <a href="BaseAggregationBuilder.html" title="interface in org.elasticsearch.search.aggregations">BaseAggregationBuilder</a>, <a href="../../index/query/Rewriteable.html" title="interface in org.elasticsearch.index.query">Rewriteable</a>&lt;<a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a>&gt;</pre>
<div class="block">A factory that knows how to create an <a href="Aggregator.html" title="class in org.elasticsearch.search.aggregations"><code>Aggregator</code></a> of a specific type.</div>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
<!--   -->
</a>
<h2>Nested Class Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="AggregationBuilder.BucketCardinality.html" title="enum in org.elasticsearch.search.aggregations">AggregationBuilder.BucketCardinality</a></span></code></th>
<td class="colLast">
<div class="block">A rough count of the number of buckets that <a href="Aggregator.html" title="class in org.elasticsearch.search.aggregations"><code>Aggregator</code></a>s built
 by this builder will contain per parent bucket used to validate sorts
 and pipeline aggregations.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="AggregationBuilder.CommonFields.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder.CommonFields</a></span></code></th>
<td class="colLast">
<div class="block">Common xcontent fields shared among aggregator builders</div>
</td>
</tr>
</tbody>
</table>
</div>
<div class="inheritedList">
<h2>Nested classes/interfaces inherited from interface&nbsp;org.elasticsearch.common.xcontent.ToXContent</h2>
<a id="nested.classes.inherited.from.class.org.elasticsearch.common.xcontent.ToXContent">
<!--   -->
</a><code>org.elasticsearch.common.xcontent.ToXContent.DelegatingMapParams, org.elasticsearch.common.xcontent.ToXContent.MapParams, org.elasticsearch.common.xcontent.ToXContent.Params</code></div>
<div class="inheritedList">
<h2>Nested classes/interfaces inherited from interface&nbsp;org.elasticsearch.common.io.stream.<a href="../../common/io/stream/Writeable.html" title="interface in org.elasticsearch.common.io.stream">Writeable</a></h2>
<a id="nested.classes.inherited.from.class.org.elasticsearch.common.io.stream.Writeable">
<!--   -->
</a><code><a href="../../common/io/stream/Writeable.Reader.html" title="interface in org.elasticsearch.common.io.stream">Writeable.Reader</a>&lt;<a href="../../common/io/stream/Writeable.Reader.html" title="type parameter in Writeable.Reader">V</a>&gt;, <a href="../../common/io/stream/Writeable.Writer.html" title="interface in org.elasticsearch.common.io.stream">Writeable.Writer</a>&lt;<a href="../../common/io/stream/Writeable.Writer.html" title="type parameter in Writeable.Writer">V</a>&gt;</code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li class="blockList">
<section class="fieldSummary"><a id="field.summary">
<!--   -->
</a>
<h2>Field Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="AggregatorFactories.Builder.html" title="class in org.elasticsearch.search.aggregations">AggregatorFactories.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#factoriesBuilder">factoriesBuilder</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#name">name</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="inheritedList">
<h3>Fields inherited from interface&nbsp;org.elasticsearch.index.query.<a href="../../index/query/Rewriteable.html" title="interface in org.elasticsearch.index.query">Rewriteable</a></h3>
<a id="fields.inherited.from.class.org.elasticsearch.index.query.Rewriteable">
<!--   -->
</a><code><a href="../../index/query/Rewriteable.html#MAX_REWRITE_ROUNDS">MAX_REWRITE_ROUNDS</a></code></div>
<div class="inheritedList">
<h3>Fields inherited from interface&nbsp;org.elasticsearch.common.xcontent.ToXContent</h3>
<a id="fields.inherited.from.class.org.elasticsearch.common.xcontent.ToXContent">
<!--   -->
</a><code>EMPTY_PARAMS</code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li class="blockList">
<section class="constructorSummary"><a id="constructor.summary">
<!--   -->
</a>
<h2>Constructor Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colSecond" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String)">AggregationBuilder</a></span>&#8203;(java.lang.String&nbsp;name)</code></th>
<td class="colLast">
<div class="block">Constructs a new aggregation builder.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.elasticsearch.search.aggregations.AggregationBuilder,org.elasticsearch.search.aggregations.AggregatorFactories.Builder)">AggregationBuilder</a></span>&#8203;(<a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a>&nbsp;clone,
<a href="AggregatorFactories.Builder.html" title="class in org.elasticsearch.search.aggregations">AggregatorFactories.Builder</a>&nbsp;factoriesBuilder)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="tableTab" onclick="show(8);">Concrete Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code>abstract <a href="AggregationBuilder.BucketCardinality.html" title="enum in org.elasticsearch.search.aggregations">AggregationBuilder.BucketCardinality</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#bucketCardinality()">bucketCardinality</a></span>()</code></th>
<td class="colLast">
<div class="block">A rough count of the number of buckets that <a href="Aggregator.html" title="class in org.elasticsearch.search.aggregations"><code>Aggregator</code></a>s built
 by this builder will contain per owning parent bucket.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code>protected abstract <a href="AggregatorFactory.html" title="class in org.elasticsearch.search.aggregations">AggregatorFactory</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#build(org.elasticsearch.search.aggregations.support.AggregationContext,org.elasticsearch.search.aggregations.AggregatorFactory)">build</a></span>&#8203;(<a href="support/AggregationContext.html" title="class in org.elasticsearch.search.aggregations.support">AggregationContext</a>&nbsp;context,
<a href="AggregatorFactory.html" title="class in org.elasticsearch.search.aggregations">AggregatorFactory</a>&nbsp;parent)</code></th>
<td class="colLast">
<div class="block">Internal: build an <a href="AggregatorFactory.html" title="class in org.elasticsearch.search.aggregations"><code>AggregatorFactory</code></a> based on the configuration of this builder.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code><a href="pipeline/PipelineAggregator.PipelineTree.html" title="class in org.elasticsearch.search.aggregations.pipeline">PipelineAggregator.PipelineTree</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#buildPipelineTree()">buildPipelineTree</a></span>()</code></th>
<td class="colLast">
<div class="block">Build a tree of <a href="pipeline/PipelineAggregator.html" title="class in org.elasticsearch.search.aggregations.pipeline"><code>PipelineAggregator</code></a>s to modify the tree of
 aggregation results after the final reduction.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>protected <a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#doRewrite(org.elasticsearch.index.query.QueryRewriteContext)">doRewrite</a></span>&#8203;(<a href="../../index/query/QueryRewriteContext.html" title="class in org.elasticsearch.index.query">QueryRewriteContext</a>&nbsp;queryShardContext)</code></th>
<td class="colLast">
<div class="block">Rewrites this aggregation builder into its primitive form.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code>abstract java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMetadata()">getMetadata</a></span>()</code></th>
<td class="colLast">
<div class="block">Return any associated metadata with this <a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations"><code>AggregationBuilder</code></a>.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getName()">getName</a></span>()</code></th>
<td class="colLast">
<div class="block">Return this aggregation's name.</div>
</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>java.util.Collection&lt;<a href="PipelineAggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">PipelineAggregationBuilder</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPipelineAggregations()">getPipelineAggregations</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the configured set of pipeline aggregations</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code>java.util.Collection&lt;<a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSubAggregations()">getSubAggregations</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the configured set of subaggregations</div>
</td>
</tr>
<tr class="altColor" id="i8">
<td class="colFirst"><code><a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#rewrite(org.elasticsearch.index.query.QueryRewriteContext)">rewrite</a></span>&#8203;(<a href="../../index/query/QueryRewriteContext.html" title="class in org.elasticsearch.index.query">QueryRewriteContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Rewrites this instance based on the provided context.</div>
</td>
</tr>
<tr class="rowColor" id="i9">
<td class="colFirst"><code>abstract <a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMetadata(java.util.Map)">setMetadata</a></span>&#8203;(java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;&nbsp;metadata)</code></th>
<td class="colLast">
<div class="block">Associate metadata with this <a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations"><code>AggregationBuilder</code></a>.</div>
</td>
</tr>
<tr class="altColor" id="i10">
<td class="colFirst"><code>protected abstract <a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#shallowCopy(org.elasticsearch.search.aggregations.AggregatorFactories.Builder,java.util.Map)">shallowCopy</a></span>&#8203;(<a href="AggregatorFactories.Builder.html" title="class in org.elasticsearch.search.aggregations">AggregatorFactories.Builder</a>&nbsp;factoriesBuilder,
java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;&nbsp;metadata)</code></th>
<td class="colLast">
<div class="block">Create a shallow copy of this builder and replacing <a href="#factoriesBuilder"><code>factoriesBuilder</code></a> and <code>metadata</code>.</div>
</td>
</tr>
<tr class="rowColor" id="i11">
<td class="colFirst"><code>abstract <a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subAggregation(org.elasticsearch.search.aggregations.AggregationBuilder)">subAggregation</a></span>&#8203;(<a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a>&nbsp;aggregation)</code></th>
<td class="colLast">
<div class="block">Add a sub aggregation to this builder.</div>
</td>
</tr>
<tr class="altColor" id="i12">
<td class="colFirst"><code>abstract <a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subAggregation(org.elasticsearch.search.aggregations.PipelineAggregationBuilder)">subAggregation</a></span>&#8203;(<a href="PipelineAggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">PipelineAggregationBuilder</a>&nbsp;aggregation)</code></th>
<td class="colLast">
<div class="block">Add a sub aggregation to this builder.</div>
</td>
</tr>
<tr class="rowColor" id="i13">
<td class="colFirst"><code>abstract <a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#subAggregations(org.elasticsearch.search.aggregations.AggregatorFactories.Builder)">subAggregations</a></span>&#8203;(<a href="AggregatorFactories.Builder.html" title="class in org.elasticsearch.search.aggregations">AggregatorFactories.Builder</a>&nbsp;subFactories)</code></th>
<td class="colLast">
<div class="block">Internal: Registers sub-factories with this factory.</div>
</td>
</tr>
<tr class="altColor" id="i14">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#toString()">toString</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a><code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;org.elasticsearch.search.aggregations.<a href="BaseAggregationBuilder.html" title="interface in org.elasticsearch.search.aggregations">BaseAggregationBuilder</a></h3>
<a id="methods.inherited.from.class.org.elasticsearch.search.aggregations.BaseAggregationBuilder">
<!--   -->
</a><code><a href="BaseAggregationBuilder.html#getType()">getType</a></code></div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;org.elasticsearch.common.io.stream.<a href="../../common/io/stream/NamedWriteable.html" title="interface in org.elasticsearch.common.io.stream">NamedWriteable</a></h3>
<a id="methods.inherited.from.class.org.elasticsearch.common.io.stream.NamedWriteable">
<!--   -->
</a><code><a href="../../common/io/stream/NamedWriteable.html#getWriteableName()">getWriteableName</a></code></div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;org.elasticsearch.common.xcontent.ToXContent</h3>
<a id="methods.inherited.from.class.org.elasticsearch.common.xcontent.ToXContent">
<!--   -->
</a><code>toXContent</code></div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;org.elasticsearch.common.xcontent.ToXContentFragment</h3>
<a id="methods.inherited.from.class.org.elasticsearch.common.xcontent.ToXContentFragment">
<!--   -->
</a><code>isFragment</code></div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;org.elasticsearch.common.io.stream.<a href="../../common/io/stream/Writeable.html" title="interface in org.elasticsearch.common.io.stream">Writeable</a></h3>
<a id="methods.inherited.from.class.org.elasticsearch.common.io.stream.Writeable">
<!--   -->
</a><code><a href="../../common/io/stream/Writeable.html#writeTo(org.elasticsearch.common.io.stream.StreamOutput)">writeTo</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<li class="blockList">
<section class="fieldDetails"><a id="field.detail">
<!--   -->
</a>
<h2>Field Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="name">name</a></h3>
<div class="memberSignature"><span class="modifiers">protected final</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">name</span></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="factoriesBuilder">factoriesBuilder</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType"><a href="AggregatorFactories.Builder.html" title="class in org.elasticsearch.search.aggregations">AggregatorFactories.Builder</a></span>&nbsp;<span class="memberName">factoriesBuilder</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li class="blockList">
<section class="constructorDetails"><a id="constructor.detail">
<!--   -->
</a>
<h2>Constructor Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(java.lang.String)">AggregationBuilder</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="memberName">AggregationBuilder</span>&#8203;(<span class="arguments">java.lang.String&nbsp;name)</span></div>
<div class="block">Constructs a new aggregation builder.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - The aggregation name</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="&lt;init&gt;(org.elasticsearch.search.aggregations.AggregationBuilder,org.elasticsearch.search.aggregations.AggregatorFactories.Builder)">AggregationBuilder</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="memberName">AggregationBuilder</span>&#8203;(<span class="arguments"><a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a>&nbsp;clone,
<a href="AggregatorFactories.Builder.html" title="class in org.elasticsearch.search.aggregations">AggregatorFactories.Builder</a>&nbsp;factoriesBuilder)</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="getName()">getName</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">getName</span>()</div>
<div class="block">Return this aggregation's name.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="build(org.elasticsearch.search.aggregations.support.AggregationContext,org.elasticsearch.search.aggregations.AggregatorFactory)">build</a></h3>
<div class="memberSignature"><span class="modifiers">protected abstract</span>&nbsp;<span class="returnType"><a href="AggregatorFactory.html" title="class in org.elasticsearch.search.aggregations">AggregatorFactory</a></span>&nbsp;<span class="memberName">build</span>&#8203;(<span class="arguments"><a href="support/AggregationContext.html" title="class in org.elasticsearch.search.aggregations.support">AggregationContext</a>&nbsp;context,
<a href="AggregatorFactory.html" title="class in org.elasticsearch.search.aggregations">AggregatorFactory</a>&nbsp;parent)</span>
                                    throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Internal: build an <a href="AggregatorFactory.html" title="class in org.elasticsearch.search.aggregations"><code>AggregatorFactory</code></a> based on the configuration of this builder.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="setMetadata(java.util.Map)">setMetadata</a></h3>
<div class="memberSignature"><span class="modifiers">public abstract</span>&nbsp;<span class="returnType"><a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></span>&nbsp;<span class="memberName">setMetadata</span>&#8203;(<span class="arguments">java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;&nbsp;metadata)</span></div>
<div class="block">Associate metadata with this <a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations"><code>AggregationBuilder</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="BaseAggregationBuilder.html#setMetadata(java.util.Map)">setMetadata</a></code>&nbsp;in interface&nbsp;<code><a href="BaseAggregationBuilder.html" title="interface in org.elasticsearch.search.aggregations">BaseAggregationBuilder</a></code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getMetadata()">getMetadata</a></h3>
<div class="memberSignature"><span class="modifiers">public abstract</span>&nbsp;<span class="returnType">java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;</span>&nbsp;<span class="memberName">getMetadata</span>()</div>
<div class="block">Return any associated metadata with this <a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations"><code>AggregationBuilder</code></a>.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="subAggregation(org.elasticsearch.search.aggregations.AggregationBuilder)">subAggregation</a></h3>
<div class="memberSignature"><span class="modifiers">public abstract</span>&nbsp;<span class="returnType"><a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></span>&nbsp;<span class="memberName">subAggregation</span>&#8203;(<span class="arguments"><a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a>&nbsp;aggregation)</span></div>
<div class="block">Add a sub aggregation to this builder.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="subAggregation(org.elasticsearch.search.aggregations.PipelineAggregationBuilder)">subAggregation</a></h3>
<div class="memberSignature"><span class="modifiers">public abstract</span>&nbsp;<span class="returnType"><a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></span>&nbsp;<span class="memberName">subAggregation</span>&#8203;(<span class="arguments"><a href="PipelineAggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">PipelineAggregationBuilder</a>&nbsp;aggregation)</span></div>
<div class="block">Add a sub aggregation to this builder.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getSubAggregations()">getSubAggregations</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.Collection&lt;<a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a>&gt;</span>&nbsp;<span class="memberName">getSubAggregations</span>()</div>
<div class="block">Return the configured set of subaggregations</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getPipelineAggregations()">getPipelineAggregations</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.util.Collection&lt;<a href="PipelineAggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">PipelineAggregationBuilder</a>&gt;</span>&nbsp;<span class="memberName">getPipelineAggregations</span>()</div>
<div class="block">Return the configured set of pipeline aggregations</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="subAggregations(org.elasticsearch.search.aggregations.AggregatorFactories.Builder)">subAggregations</a></h3>
<div class="memberSignature"><span class="modifiers">public abstract</span>&nbsp;<span class="returnType"><a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></span>&nbsp;<span class="memberName">subAggregations</span>&#8203;(<span class="arguments"><a href="AggregatorFactories.Builder.html" title="class in org.elasticsearch.search.aggregations">AggregatorFactories.Builder</a>&nbsp;subFactories)</span></div>
<div class="block">Internal: Registers sub-factories with this factory. The sub-factory will
 be responsible for the creation of sub-aggregators under the aggregator
 created by this factory. This is only for use by
 <a href="AggregatorFactories.html#parseAggregators(org.elasticsearch.common.xcontent.XContentParser)"><code>AggregatorFactories.parseAggregators(XContentParser)</code></a>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="BaseAggregationBuilder.html#subAggregations(org.elasticsearch.search.aggregations.AggregatorFactories.Builder)">subAggregations</a></code>&nbsp;in interface&nbsp;<code><a href="BaseAggregationBuilder.html" title="interface in org.elasticsearch.search.aggregations">BaseAggregationBuilder</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>subFactories</code> - The sub-factories</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this factory (fluent interface)</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="shallowCopy(org.elasticsearch.search.aggregations.AggregatorFactories.Builder,java.util.Map)">shallowCopy</a></h3>
<div class="memberSignature"><span class="modifiers">protected abstract</span>&nbsp;<span class="returnType"><a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></span>&nbsp;<span class="memberName">shallowCopy</span>&#8203;(<span class="arguments"><a href="AggregatorFactories.Builder.html" title="class in org.elasticsearch.search.aggregations">AggregatorFactories.Builder</a>&nbsp;factoriesBuilder,
java.util.Map&lt;java.lang.String,&#8203;java.lang.Object&gt;&nbsp;metadata)</span></div>
<div class="block">Create a shallow copy of this builder and replacing <a href="#factoriesBuilder"><code>factoriesBuilder</code></a> and <code>metadata</code>.
 Used by <a href="#rewrite(org.elasticsearch.index.query.QueryRewriteContext)"><code>rewrite(QueryRewriteContext)</code></a>.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="rewrite(org.elasticsearch.index.query.QueryRewriteContext)">rewrite</a></h3>
<div class="memberSignature"><span class="modifiers">public final</span>&nbsp;<span class="returnType"><a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></span>&nbsp;<span class="memberName">rewrite</span>&#8203;(<span class="arguments"><a href="../../index/query/QueryRewriteContext.html" title="class in org.elasticsearch.index.query">QueryRewriteContext</a>&nbsp;context)</span>
                                 throws <span class="exceptions">java.io.IOException</span></div>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../index/query/Rewriteable.html#rewrite(org.elasticsearch.index.query.QueryRewriteContext)">Rewriteable</a></code></span></div>
<div class="block">Rewrites this instance based on the provided context. The returned
 objects will be the same instance as this if no changes during the
 rewrite were applied.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../index/query/Rewriteable.html#rewrite(org.elasticsearch.index.query.QueryRewriteContext)">rewrite</a></code>&nbsp;in interface&nbsp;<code><a href="../../index/query/Rewriteable.html" title="interface in org.elasticsearch.index.query">Rewriteable</a>&lt;<a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a>&gt;</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="doRewrite(org.elasticsearch.index.query.QueryRewriteContext)">doRewrite</a></h3>
<div class="memberSignature"><span class="modifiers">protected</span>&nbsp;<span class="returnType"><a href="AggregationBuilder.html" title="class in org.elasticsearch.search.aggregations">AggregationBuilder</a></span>&nbsp;<span class="memberName">doRewrite</span>&#8203;(<span class="arguments"><a href="../../index/query/QueryRewriteContext.html" title="class in org.elasticsearch.index.query">QueryRewriteContext</a>&nbsp;queryShardContext)</span>
                                throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Rewrites this aggregation builder into its primitive form. By default
 this method return the builder itself. If the builder did not change the
 identity reference must be returned otherwise the builder will be
 rewritten infinitely.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="buildPipelineTree()">buildPipelineTree</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType"><a href="pipeline/PipelineAggregator.PipelineTree.html" title="class in org.elasticsearch.search.aggregations.pipeline">PipelineAggregator.PipelineTree</a></span>&nbsp;<span class="memberName">buildPipelineTree</span>()</div>
<div class="block">Build a tree of <a href="pipeline/PipelineAggregator.html" title="class in org.elasticsearch.search.aggregations.pipeline"><code>PipelineAggregator</code></a>s to modify the tree of
 aggregation results after the final reduction.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="bucketCardinality()">bucketCardinality</a></h3>
<div class="memberSignature"><span class="modifiers">public abstract</span>&nbsp;<span class="returnType"><a href="AggregationBuilder.BucketCardinality.html" title="enum in org.elasticsearch.search.aggregations">AggregationBuilder.BucketCardinality</a></span>&nbsp;<span class="memberName">bucketCardinality</span>()</div>
<div class="block">A rough count of the number of buckets that <a href="Aggregator.html" title="class in org.elasticsearch.search.aggregations"><code>Aggregator</code></a>s built
 by this builder will contain per owning parent bucket.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="toString()">toString</a></h3>
<div class="memberSignature"><span class="modifiers">public</span>&nbsp;<span class="returnType">java.lang.String</span>&nbsp;<span class="memberName">toString</span>()</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</div>
</div>
</body>
</html>
