<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>IndicesClusterStateService.AllocatedIndices (server 7.11.1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="description" content="declaration: package: org.elasticsearch.indices.cluster, class: IndicesClusterStateService, interface: AllocatedIndices">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../script-dir/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../script-dir/jquery-3.4.1.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.js"></script>
</head>
<body class="class-declaration">
<script type="text/javascript">var data = {"i0":6,"i1":6,"i2":6,"i3":18,"i4":6,"i5":6,"i6":6,"i7":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flexBox">
<header role="banner" class="flexHeader">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="navListSearch"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="skipNav"><a id="skip.navbar.top">
<!--   -->
</a></div>
</nav>
</header>
<div class="flexContent">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.elasticsearch.indices.cluster</a></div>
<h1 title="Interface IndicesClusterStateService.AllocatedIndices" class="title">Interface IndicesClusterStateService.AllocatedIndices&lt;T extends <a href="IndicesClusterStateService.Shard.html" title="interface in org.elasticsearch.indices.cluster">IndicesClusterStateService.Shard</a>,&#8203;U extends <a href="IndicesClusterStateService.AllocatedIndex.html" title="interface in org.elasticsearch.indices.cluster">IndicesClusterStateService.AllocatedIndex</a>&lt;T&gt;&gt;</h1>
</div>
<div class="contentContainer">
<section class="description">
<dl>
<dt>All Superinterfaces:</dt>
<dd><code>java.lang.Iterable&lt;U&gt;</code></dd>
</dl>
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="../IndicesService.html" title="class in org.elasticsearch.indices">IndicesService</a></code></dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="IndicesClusterStateService.html" title="class in org.elasticsearch.indices.cluster">IndicesClusterStateService</a></dd>
</dl>
<hr>
<pre>public static interface <span class="typeNameLabel">IndicesClusterStateService.AllocatedIndices&lt;T extends <a href="IndicesClusterStateService.Shard.html" title="interface in org.elasticsearch.indices.cluster">IndicesClusterStateService.Shard</a>,&#8203;U extends <a href="IndicesClusterStateService.AllocatedIndex.html" title="interface in org.elasticsearch.indices.cluster">IndicesClusterStateService.AllocatedIndex</a>&lt;T&gt;&gt;</span>
extends java.lang.Iterable&lt;U&gt;</pre>
</section>
<section class="summary">
<ul class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li class="blockList">
<section class="nestedClassSummary"><a id="nested.class.summary">
<!--   -->
</a>
<h2>Nested Class Summary</h2>
<div class="memberSummary">
<table>
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="IndicesClusterStateService.AllocatedIndices.IndexRemovalReason.html" title="enum in org.elasticsearch.indices.cluster">IndicesClusterStateService.AllocatedIndices.IndexRemovalReason</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li class="blockList">
<section class="methodSummary"><a id="method.summary">
<!--   -->
</a>
<h2>Method Summary</h2>
<div class="memberSummary">
<div role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="memberSummary_tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="activeTableTab">All Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="tableTab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t3" class="tableTab" onclick="show(4);">Abstract Methods</button><button role="tab" aria-selected="false" aria-controls="memberSummary_tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t5" class="tableTab" onclick="show(16);">Default Methods</button></div>
<div id="memberSummary_tabpanel" role="tabpanel">
<table aria-labelledby="t0">
<thead>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="altColor" id="i0">
<td class="colFirst"><code><a href="IndicesClusterStateService.AllocatedIndices.html" title="type parameter in IndicesClusterStateService.AllocatedIndices">U</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createIndex(org.elasticsearch.cluster.metadata.IndexMetadata,java.util.List,boolean)">createIndex</a></span>&#8203;(<a href="../../cluster/metadata/IndexMetadata.html" title="class in org.elasticsearch.cluster.metadata">IndexMetadata</a>&nbsp;indexMetadata,
java.util.List&lt;<a href="../../index/shard/IndexEventListener.html" title="interface in org.elasticsearch.index.shard">IndexEventListener</a>&gt;&nbsp;builtInIndexListener,
boolean&nbsp;writeDanglingIndices)</code></th>
<td class="colLast">
<div class="block">Creates a new <a href="../../index/IndexService.html" title="class in org.elasticsearch.index"><code>IndexService</code></a> for the given metadata.</div>
</td>
</tr>
<tr class="rowColor" id="i1">
<td class="colFirst"><code><a href="IndicesClusterStateService.AllocatedIndices.html" title="type parameter in IndicesClusterStateService.AllocatedIndices">T</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createShard(org.elasticsearch.cluster.routing.ShardRouting,org.elasticsearch.indices.recovery.PeerRecoveryTargetService,org.elasticsearch.indices.recovery.PeerRecoveryTargetService.RecoveryListener,org.elasticsearch.repositories.RepositoriesService,java.util.function.Consumer,java.util.function.Consumer,org.elasticsearch.index.seqno.RetentionLeaseSyncer,org.elasticsearch.cluster.node.DiscoveryNode,org.elasticsearch.cluster.node.DiscoveryNode)">createShard</a></span>&#8203;(<a href="../../cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;shardRouting,
<a href="../recovery/PeerRecoveryTargetService.html" title="class in org.elasticsearch.indices.recovery">PeerRecoveryTargetService</a>&nbsp;recoveryTargetService,
<a href="../recovery/PeerRecoveryTargetService.RecoveryListener.html" title="interface in org.elasticsearch.indices.recovery">PeerRecoveryTargetService.RecoveryListener</a>&nbsp;recoveryListener,
<a href="../../repositories/RepositoriesService.html" title="class in org.elasticsearch.repositories">RepositoriesService</a>&nbsp;repositoriesService,
java.util.function.Consumer&lt;<a href="../../index/shard/IndexShard.ShardFailure.html" title="class in org.elasticsearch.index.shard">IndexShard.ShardFailure</a>&gt;&nbsp;onShardFailure,
java.util.function.Consumer&lt;<a href="../../index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&gt;&nbsp;globalCheckpointSyncer,
<a href="../../index/seqno/RetentionLeaseSyncer.html" title="class in org.elasticsearch.index.seqno">RetentionLeaseSyncer</a>&nbsp;retentionLeaseSyncer,
<a href="../../cluster/node/DiscoveryNode.html" title="class in org.elasticsearch.cluster.node">DiscoveryNode</a>&nbsp;targetNode,
<a href="../../cluster/node/DiscoveryNode.html" title="class in org.elasticsearch.cluster.node">DiscoveryNode</a>&nbsp;sourceNode)</code></th>
<td class="colLast">
<div class="block">Creates a shard for the specified shard routing and starts recovery.</div>
</td>
</tr>
<tr class="altColor" id="i2">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteUnassignedIndex(java.lang.String,org.elasticsearch.cluster.metadata.IndexMetadata,org.elasticsearch.cluster.ClusterState)">deleteUnassignedIndex</a></span>&#8203;(java.lang.String&nbsp;reason,
<a href="../../cluster/metadata/IndexMetadata.html" title="class in org.elasticsearch.cluster.metadata">IndexMetadata</a>&nbsp;metadata,
<a href="../../cluster/ClusterState.html" title="class in org.elasticsearch.cluster">ClusterState</a>&nbsp;clusterState)</code></th>
<td class="colLast">
<div class="block">Deletes an index that is not assigned to this node.</div>
</td>
</tr>
<tr class="rowColor" id="i3">
<td class="colFirst"><code>default <a href="IndicesClusterStateService.AllocatedIndices.html" title="type parameter in IndicesClusterStateService.AllocatedIndices">T</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getShardOrNull(org.elasticsearch.index.shard.ShardId)">getShardOrNull</a></span>&#8203;(<a href="../../index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId)</code></th>
<td class="colLast">
<div class="block">Returns shard for the specified id if it exists otherwise returns <code>null</code>.</div>
</td>
</tr>
<tr class="altColor" id="i4">
<td class="colFirst"><code><a href="IndicesClusterStateService.AllocatedIndices.html" title="type parameter in IndicesClusterStateService.AllocatedIndices">U</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#indexService(org.elasticsearch.index.Index)">indexService</a></span>&#8203;(<a href="../../index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index)</code></th>
<td class="colLast">
<div class="block">Returns an IndexService for the specified index if exists otherwise returns <code>null</code>.</div>
</td>
</tr>
<tr class="rowColor" id="i5">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#processPendingDeletes(org.elasticsearch.index.Index,org.elasticsearch.index.IndexSettings,org.elasticsearch.common.unit.TimeValue)">processPendingDeletes</a></span>&#8203;(<a href="../../index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index,
<a href="../../index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
org.elasticsearch.common.unit.TimeValue&nbsp;timeValue)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor" id="i6">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeIndex(org.elasticsearch.index.Index,org.elasticsearch.indices.cluster.IndicesClusterStateService.AllocatedIndices.IndexRemovalReason,java.lang.String)">removeIndex</a></span>&#8203;(<a href="../../index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index,
<a href="IndicesClusterStateService.AllocatedIndices.IndexRemovalReason.html" title="enum in org.elasticsearch.indices.cluster">IndicesClusterStateService.AllocatedIndices.IndexRemovalReason</a>&nbsp;reason,
java.lang.String&nbsp;extraInfo)</code></th>
<td class="colLast">
<div class="block">Removes the given index from this service and releases all associated resources.</div>
</td>
</tr>
<tr class="rowColor" id="i7">
<td class="colFirst"><code><a href="../../cluster/metadata/IndexMetadata.html" title="class in org.elasticsearch.cluster.metadata">IndexMetadata</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#verifyIndexIsDeleted(org.elasticsearch.index.Index,org.elasticsearch.cluster.ClusterState)">verifyIndexIsDeleted</a></span>&#8203;(<a href="../../index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index,
<a href="../../cluster/ClusterState.html" title="class in org.elasticsearch.cluster">ClusterState</a>&nbsp;clusterState)</code></th>
<td class="colLast">
<div class="block">Verify that the contents on disk for the given index is deleted; if not, delete the contents.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inheritedList">
<h3>Methods inherited from interface&nbsp;java.lang.Iterable</h3>
<a id="methods.inherited.from.class.java.lang.Iterable">
<!--   -->
</a><code>forEach, iterator, spliterator</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<li class="blockList">
<section class="methodDetails"><a id="method.detail">
<!--   -->
</a>
<h2>Method Details</h2>
<ul class="blockList">
<li class="blockList">
<section class="detail">
<h3><a id="createIndex(org.elasticsearch.cluster.metadata.IndexMetadata,java.util.List,boolean)">createIndex</a></h3>
<div class="memberSignature"><span class="returnType"><a href="IndicesClusterStateService.AllocatedIndices.html" title="type parameter in IndicesClusterStateService.AllocatedIndices">U</a></span>&nbsp;<span class="memberName">createIndex</span>&#8203;(<span class="arguments"><a href="../../cluster/metadata/IndexMetadata.html" title="class in org.elasticsearch.cluster.metadata">IndexMetadata</a>&nbsp;indexMetadata,
java.util.List&lt;<a href="../../index/shard/IndexEventListener.html" title="interface in org.elasticsearch.index.shard">IndexEventListener</a>&gt;&nbsp;builtInIndexListener,
boolean&nbsp;writeDanglingIndices)</span>
       throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Creates a new <a href="../../index/IndexService.html" title="class in org.elasticsearch.index"><code>IndexService</code></a> for the given metadata.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>indexMetadata</code> - the index metadata to create the index for</dd>
<dd><code>builtInIndexListener</code> - a list of built-in lifecycle <a href="../../index/shard/IndexEventListener.html" title="interface in org.elasticsearch.index.shard"><code>IndexEventListener</code></a> that should should be used along side with
                               the per-index listeners</dd>
<dd><code>writeDanglingIndices</code> - whether dangling indices information should be written</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../ResourceAlreadyExistsException.html" title="class in org.elasticsearch">ResourceAlreadyExistsException</a></code> - if the index already exists.</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="verifyIndexIsDeleted(org.elasticsearch.index.Index,org.elasticsearch.cluster.ClusterState)">verifyIndexIsDeleted</a></h3>
<div class="memberSignature"><span class="returnType"><a href="../../cluster/metadata/IndexMetadata.html" title="class in org.elasticsearch.cluster.metadata">IndexMetadata</a></span>&nbsp;<span class="memberName">verifyIndexIsDeleted</span>&#8203;(<span class="arguments"><a href="../../index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index,
<a href="../../cluster/ClusterState.html" title="class in org.elasticsearch.cluster">ClusterState</a>&nbsp;clusterState)</span></div>
<div class="block">Verify that the contents on disk for the given index is deleted; if not, delete the contents.
 This method assumes that an index is already deleted in the cluster state and/or explicitly
 through index tombstones.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - <code>Index</code> to make sure its deleted from disk</dd>
<dd><code>clusterState</code> - <code>ClusterState</code> to ensure the index is not part of it</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>IndexMetadata for the index loaded from disk</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="deleteUnassignedIndex(java.lang.String,org.elasticsearch.cluster.metadata.IndexMetadata,org.elasticsearch.cluster.ClusterState)">deleteUnassignedIndex</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">deleteUnassignedIndex</span>&#8203;(<span class="arguments">java.lang.String&nbsp;reason,
<a href="../../cluster/metadata/IndexMetadata.html" title="class in org.elasticsearch.cluster.metadata">IndexMetadata</a>&nbsp;metadata,
<a href="../../cluster/ClusterState.html" title="class in org.elasticsearch.cluster">ClusterState</a>&nbsp;clusterState)</span></div>
<div class="block">Deletes an index that is not assigned to this node. This method cleans up all disk folders relating to the index
 but does not deal with in-memory structures. For those call <a href="#removeIndex(org.elasticsearch.index.Index,org.elasticsearch.indices.cluster.IndicesClusterStateService.AllocatedIndices.IndexRemovalReason,java.lang.String)"><code>removeIndex(Index, IndexRemovalReason, String)</code></a></div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="removeIndex(org.elasticsearch.index.Index,org.elasticsearch.indices.cluster.IndicesClusterStateService.AllocatedIndices.IndexRemovalReason,java.lang.String)">removeIndex</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">removeIndex</span>&#8203;(<span class="arguments"><a href="../../index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index,
<a href="IndicesClusterStateService.AllocatedIndices.IndexRemovalReason.html" title="enum in org.elasticsearch.indices.cluster">IndicesClusterStateService.AllocatedIndices.IndexRemovalReason</a>&nbsp;reason,
java.lang.String&nbsp;extraInfo)</span></div>
<div class="block">Removes the given index from this service and releases all associated resources. Persistent parts of the index
 like the shards files, state and transaction logs are kept around in the case of a disaster recovery.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>index</code> - the index to remove</dd>
<dd><code>reason</code> - the reason to remove the index</dd>
<dd><code>extraInfo</code> - extra information that will be used for logging and reporting</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="indexService(org.elasticsearch.index.Index)">indexService</a></h3>
<div class="memberSignature"><span class="annotations">@Nullable
</span><span class="returnType"><a href="IndicesClusterStateService.AllocatedIndices.html" title="type parameter in IndicesClusterStateService.AllocatedIndices">U</a></span>&nbsp;<span class="memberName">indexService</span>&#8203;(<span class="arguments"><a href="../../index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index)</span></div>
<div class="block">Returns an IndexService for the specified index if exists otherwise returns <code>null</code>.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="createShard(org.elasticsearch.cluster.routing.ShardRouting,org.elasticsearch.indices.recovery.PeerRecoveryTargetService,org.elasticsearch.indices.recovery.PeerRecoveryTargetService.RecoveryListener,org.elasticsearch.repositories.RepositoriesService,java.util.function.Consumer,java.util.function.Consumer,org.elasticsearch.index.seqno.RetentionLeaseSyncer,org.elasticsearch.cluster.node.DiscoveryNode,org.elasticsearch.cluster.node.DiscoveryNode)">createShard</a></h3>
<div class="memberSignature"><span class="returnType"><a href="IndicesClusterStateService.AllocatedIndices.html" title="type parameter in IndicesClusterStateService.AllocatedIndices">T</a></span>&nbsp;<span class="memberName">createShard</span>&#8203;(<span class="arguments"><a href="../../cluster/routing/ShardRouting.html" title="class in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;shardRouting,
<a href="../recovery/PeerRecoveryTargetService.html" title="class in org.elasticsearch.indices.recovery">PeerRecoveryTargetService</a>&nbsp;recoveryTargetService,
<a href="../recovery/PeerRecoveryTargetService.RecoveryListener.html" title="interface in org.elasticsearch.indices.recovery">PeerRecoveryTargetService.RecoveryListener</a>&nbsp;recoveryListener,
<a href="../../repositories/RepositoriesService.html" title="class in org.elasticsearch.repositories">RepositoriesService</a>&nbsp;repositoriesService,
java.util.function.Consumer&lt;<a href="../../index/shard/IndexShard.ShardFailure.html" title="class in org.elasticsearch.index.shard">IndexShard.ShardFailure</a>&gt;&nbsp;onShardFailure,
java.util.function.Consumer&lt;<a href="../../index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&gt;&nbsp;globalCheckpointSyncer,
<a href="../../index/seqno/RetentionLeaseSyncer.html" title="class in org.elasticsearch.index.seqno">RetentionLeaseSyncer</a>&nbsp;retentionLeaseSyncer,
<a href="../../cluster/node/DiscoveryNode.html" title="class in org.elasticsearch.cluster.node">DiscoveryNode</a>&nbsp;targetNode,
@Nullable
<a href="../../cluster/node/DiscoveryNode.html" title="class in org.elasticsearch.cluster.node">DiscoveryNode</a>&nbsp;sourceNode)</span>
       throws <span class="exceptions">java.io.IOException</span></div>
<div class="block">Creates a shard for the specified shard routing and starts recovery.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>shardRouting</code> - the shard routing</dd>
<dd><code>recoveryTargetService</code> - recovery service for the target</dd>
<dd><code>recoveryListener</code> - a callback when recovery changes state (finishes or fails)</dd>
<dd><code>repositoriesService</code> - service responsible for snapshot/restore</dd>
<dd><code>onShardFailure</code> - a callback when this shard fails</dd>
<dd><code>globalCheckpointSyncer</code> - a callback when this shard syncs the global checkpoint</dd>
<dd><code>retentionLeaseSyncer</code> - a callback when this shard syncs retention leases</dd>
<dd><code>targetNode</code> - the node where this shard will be recovered</dd>
<dd><code>sourceNode</code> - the source node to recover this shard from (it might be null)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new shard</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O exception occurs when creating the shard</dd>
</dl>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="getShardOrNull(org.elasticsearch.index.shard.ShardId)">getShardOrNull</a></h3>
<div class="memberSignature"><span class="modifiers">default</span>&nbsp;<span class="returnType"><a href="IndicesClusterStateService.AllocatedIndices.html" title="type parameter in IndicesClusterStateService.AllocatedIndices">T</a></span>&nbsp;<span class="memberName">getShardOrNull</span>&#8203;(<span class="arguments"><a href="../../index/shard/ShardId.html" title="class in org.elasticsearch.index.shard">ShardId</a>&nbsp;shardId)</span></div>
<div class="block">Returns shard for the specified id if it exists otherwise returns <code>null</code>.</div>
</section>
</li>
<li class="blockList">
<section class="detail">
<h3><a id="processPendingDeletes(org.elasticsearch.index.Index,org.elasticsearch.index.IndexSettings,org.elasticsearch.common.unit.TimeValue)">processPendingDeletes</a></h3>
<div class="memberSignature"><span class="returnType">void</span>&nbsp;<span class="memberName">processPendingDeletes</span>&#8203;(<span class="arguments"><a href="../../index/Index.html" title="class in org.elasticsearch.index">Index</a>&nbsp;index,
<a href="../../index/IndexSettings.html" title="class in org.elasticsearch.index">IndexSettings</a>&nbsp;indexSettings,
org.elasticsearch.common.unit.TimeValue&nbsp;timeValue)</span>
                    throws <span class="exceptions">java.io.IOException,
java.lang.InterruptedException,
<a href="../../env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></span></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="../../env/ShardLockObtainFailedException.html" title="class in org.elasticsearch.env">ShardLockObtainFailedException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</div>
</div>
</body>
</html>
