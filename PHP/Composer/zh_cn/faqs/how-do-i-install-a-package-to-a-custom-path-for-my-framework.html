<!DOCTYPE html>
<html class="no-js" lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width,initial-scale=1">

        <title>如何为我的框架自定义一个资源包安装目录？ | Composer 中文文档 | Composer 中文网</title>
        <meta name="description" content="Composer 是 PHP 中用来管理依赖（dependency）关系的工具">
        <meta name="keywords" content="PHP, Composer, Packagist, 依赖管理, npm, Symfony, Laravel">

        <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="../assets/css/style.css">
        <link rel="stylesheet" href="../assets/css/libs/prism.css">

        <script src="https://cdn.bootcss.com/modernizr/2.8.2/modernizr.min.js"></script>
    </head>

    <body>
        <div id="container">
            <header>
                    <a href="../docs_phpcomposer_default.html">首页</a>
                    <a href="../00-intro.html">入门</a>
                    <a href="https://getcomposer.org/download/" target="_blank">下载</a>
                    <a href="https://packagist.org/" target="_blank">安装包列表</a>
                    <a class="last" href="https://pkg.phpcomposer.com/" target="_blank">中国镜像</a>
            </header>
            <div id="main" role="main">
    
    <h1>如何为我的框架自定义一个资源包安装目录？</h1>
<p>每个框架都可能有一个或多个不同的依赖包安装目录。Composer 可以通过使用 <a href="https://github.com/composer/installers" target="_blank">composer/installers</a> 来配置，安装依赖到其它的目录，而不是默认的 <code>vendor</code> 目录。</p>
<p>如果你是一个 <strong>包作者</strong> 并且希望自己的资源包被安装到自定义的目录中，简单的 require <code>composer/installers</code> 依赖，并设置适当的 <code>type</code> 属性。这是常见的方式，如果你的资源包专门用于一个框架，如 CakePHP、Drupal 或 WordPress。这是一个 WordPress 主题的 composer.json 文件的例子：</p>
<pre><code class="language-json">{
    &quot;name&quot;: &quot;you/themename&quot;,
    &quot;type&quot;: &quot;wordpress-theme&quot;,
    &quot;require&quot;: {
        &quot;composer/installers&quot;: &quot;~1.0&quot;
    }
}
</code></pre>
<p>现在当你用 Composer 安装这个主题时，它就会被放置在 <code>wp-content/themes/themename/</code> 目录。目前已被支持的 <code>type</code> 类型请查看 <a href="https://github.com/composer/installers#current-supported-types" target="_blank">current supported types</a>。</p>
<p>对于一个 <strong>包使用者</strong> 你可以为一个包设置或覆盖安装路径，requires composer/installers 并在 extra 下设置 <code>installer-paths</code> 属性。Drupal 的多站点设置就是一个很好的例子，其中的资源包应该被安装到各自网站的子目录。在这里我们使用 composer/installers 来覆盖安装路径：</p>
<pre><code class="language-json">{
    &quot;extra&quot;: {
        &quot;installer-paths&quot;: {
            &quot;sites/example.com/modules/{$name}&quot;: [&quot;vendor/package&quot;]
        }
    }
}
</code></pre>
<p>现在该资源包将被安装到你指定的目录，并替换 <code>$name</code> 变量，而不是默认目录。</p>
<blockquote>
<p><strong>注意：</strong> 你不能通过它改变所有包的安装目录。这仅适用于引入 <code>composer/installers</code> 依赖，自定义了 type 属性的资源包。</p>
</blockquote>


    <p class="fork-and-edit">
        如果您发现文档中有错误，或者能够帮我们完善文档，请提交到我们的 <a href="https://github.com/5-say/composer-doc-cn" target="_blank">Github 仓库吧</a>！
    </p>
            </div>
            <footer>

                <p class="license">Composer 以及本网站上的所有内容全部遵循 <a href="https://github.com/composer/composer/blob/master/LICENSE" target="_blank">MIT 开源协议</a>。</p>
            </footer>
        </div>

        <script src="http://docs.phpcomposer.com/assets/js/libs/prism.js"></script>
        <script type="text/javascript">
        var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
        document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F16e97907ef84179ff8cd833509017a96' type='text/javascript'%3E%3C/script%3E"));
        </script>
    </body>
</html>
